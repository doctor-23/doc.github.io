"use strict";function customSelect(e,t,a,o,n,l){document.querySelectorAll(e).forEach((function(e){var t=e.querySelector(o).offsetHeight;e.querySelector(a).style.maxHeight=t*l+16+"px"})),$(e).on("click",o,(function(){var a=$(this).find(n).text(),o=$(this).closest(e);o.find(t).text(a),o.removeClass("open")})).on("click",t,(function(){$(this).closest(e).hasClass("open")?$(e).removeClass("open"):($(e).removeClass("open"),$(this).closest(e).addClass("open"))}))}function clickOutside(e,t,a){$((function(){var o=0;$(e).each((function(){o++,$(this).attr("data-name","wrapper__touch"+o)})),$('[data-name="'+o+'"]').ready((function(){var e=$(this).find(t).parent();$(this).find(".wrapper__touch").click((function(e){$(".wrapper__touch").not(this).parent().removeClass(a),$(this).parent().toggleClass(a)})),$(document).on("click touchstart",(function(t){$(t.target).closest(e).length||e.removeClass(a)}))}))}))}function resizeInput(){this.style.width=this.value.length+"ch"}function formNameValid(e,t){return e.val().length<2?(t=!1,e.addClass("validate-border"),e.parent().find(".msg-error").show()):0===e.val().length?(t=!1,e.parent().find(".msg-error").hide(),e.parent().find(".msg-empty").show(),e.addClass("validate-border")):(t=!0,e.removeClass("validate-border"),e.parent().find(".msg-error").hide()),t}function formPhoneValid(e,t){var a=/_/;return 0===e.val().length?(t=!1,e.addClass("validate-border"),e.parent().find(".msg").hide(),e.parent().find(".msg-error-empty").show()):e.val().length>0&&a.test(e.val())?(t=!1,e.addClass("validate-border"),e.parent().find(".msg").hide(),e.parent().find(".msg-error-phone").show()):e.val().length>0&&!a.test(e.val())?(t=!0,e.removeClass("validate-border"),e.parent().find(".msg").hide()):t=!1,t}$(document).ready((function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";var a=$("body");function o(e){$(e).scrollTop()>window.innerHeight?a.addClass("prev_nav_scroll"):a.removeClass("prev_nav_scroll"),$(e).scrollTop()>window.innerHeight+300?a.addClass("nav_scroll"):a.removeClass("nav_scroll")}o(window),$(window).scroll((function(){o(this)}));var n=$(".hamburger");function l(e,t){$(e).slick({slidesToShow:3,slidesToScroll:3,speed:300,draggable:!1,arrows:!0,infinite:t,variableWidth:!0,prevArrow:'<a class="arrow-left"><svg width="11" height="22" viewBox="0 0 11 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 0.884978C9.27834 0.884978 9.05667 0.966644 8.88167 1.14164L1.275 8.74831C0.0383371 9.98498 0.0383371 12.015 1.275 13.2516L8.88167 20.8583C9.22 21.1966 9.78 21.1966 10.1183 20.8583C10.4567 20.52 10.4567 19.96 10.1183 19.6216L2.51167 12.015C1.95167 11.455 1.95167 10.545 2.51167 9.98498L10.1183 2.37831C10.4567 2.03998 10.4567 1.47998 10.1183 1.14164C9.94334 0.978311 9.72167 0.884978 9.5 0.884978Z" fill="currentColor"/></svg></a>',nextArrow:'<a class="arrow-right"><svg width="11" height="22" viewBox="0 0 11 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.50003 0.884978C1.72169 0.884978 1.94336 0.966644 2.11836 1.14164L9.72503 8.74831C10.9617 9.98498 10.9617 12.015 9.72503 13.2516L2.11836 20.8583C1.78003 21.1966 1.22003 21.1966 0.881695 20.8583C0.543362 20.52 0.543362 19.96 0.881695 19.6216L8.48836 12.015C9.04836 11.455 9.04836 10.545 8.48836 9.98498L0.881695 2.37831C0.543362 2.03998 0.543362 1.47998 0.881695 1.14164C1.05669 0.978311 1.27836 0.884978 1.50003 0.884978Z" fill="currentColor"/></svg></a>',swipe:!0,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,dots:!0,dotsClass:"slider-dots"}}]})}$(".nav-menu__list-item > a").on("click",(function(e){if(!$(this).parent().hasClass("nav-menu__list-item_last")){e.preventDefault();var t=$(this).attr("href");$("html,body").stop().animate({scrollTop:$(t).offset().top},1e3),n.hasClass("open")&&(n.removeClass("open"),$("header").find(".nav-menu").removeClass("show"))}})),n.on("click",(function(){var e=$(this).hasClass("open");$(this).toggleClass("open"),$("header").find(".nav-menu").toggleClass("show"),$("body").toggleClass("no-scroll"),e?$("#overlay").fadeOut(215):$("#overlay").fadeIn(215)})),$("#overlay").on("click",(function(){n.removeClass("open"),$("header").find(".nav-menu").removeClass("show"),$("body").removeClass("no-scroll"),$("#overlay").fadeOut(215)})),$(document).on("click",".btn-call, .main-hero__btn, .calculator__btn, .program__btn, .cargo-with-mileage__btn",(function(e){e.preventDefault(),$("#modal_feedback_form").fadeIn(215),m("#modal_form__feedback"),n.hasClass("open")&&(n.removeClass("open"),$("header").find(".nav-menu").removeClass("show"))})),customSelect(".select",".select-title",".select-content",".select-content__wrapper",".select-content__radio",4),clickOutside(".select",".select-content","open"),$(document).on("click",".catalog__btn-show-filters",(function(){$("#overlay").fadeIn(215),$(".catalog").find(".filters").addClass("show")})),$(document).on("click",".catalog .filters .close, #overlay",(function(){$("#overlay").fadeOut(215),$(".catalog .filters").removeClass("show")}));var i,s=$(".catalog__tabs");function r(e,t,a){var o=document.getElementById(e),n=document.getElementById(t);noUiSlider.create(o,{start:[n.value],connect:!0,step:a,range:{min:parseFloat(n.getAttribute("min")),max:parseFloat(n.getAttribute("max"))}}),o.noUiSlider.on("update",(function(e,t){n.value=Math.round(e[0])}));n.addEventListener("change",(function(e){var t,a,n;t=0,a=e.currentTarget.value,(n=[null,null])[t]=a,o.noUiSlider.set(n)})),resizeInput.call(n)}if(document.querySelectorAll(".catalog__list .catalog__list-slider").forEach((function(e){e.dataset.tab===s.find(".catalog__tabs-item.active").data("tab")&&(e.classList.add("active"),i=$(".catalog__list-slider.active").children(),l(".catalog__list-slider.active",!0))})),s.on("click",".catalog__tabs-item",(function(){var e=$(this),t=e.data("tab"),o=$(".catalog__list .catalog__list-slider.active"),n=document.querySelector('.catalog__list .catalog__list-slider[data-tab="'+t+'"]');a.addClass("loader"),setTimeout((function(){i=null,o.removeClass("active"),o.slick("unslick"),n.classList.add("active"),i=$(".catalog__list-slider.active").children(),l(".catalog__list-slider.active",!0),$(".catalog__tabs").find(".catalog__tabs-item").removeClass("active"),e.addClass("active"),a.removeClass("loader")}),1e3)})),function(){var e=$("#minPrice"),t=$("#maxPrice"),a=[document.getElementById("minPrice"),document.getElementById("maxPrice")],o=document.getElementById("price_range");if(o){noUiSlider.create(o,{start:[e.val(),t.val()],connect:!0,step:1,range:{min:[parseInt(e.val())],max:[parseInt(t.val())]}}),o.noUiSlider.on("update",(function(e,t){a[t].value=Math.round(e[t])}));a.forEach((function(e,t){e.addEventListener("change",(function(e){var a,n,l;a=t,n=e.currentTarget.value,(l=[null,null])[a]=n,o.noUiSlider.set(l)}))}))}resizeInput.call(e[0]),resizeInput.call(t[0]),document.querySelectorAll(".noUi-handle").forEach((function(a){a.addEventListener("mousedown",(function(){this.addEventListener("mousemove",(function(){this.classList.contains("noUi-handle-upper")?resizeInput.call(t[0]):this.classList.contains("noUi-handle-lower")&&resizeInput.call(e[0])}))})),a.addEventListener("mouseover",(function(){}))}))}(),$(".catalog__filters .select .select-content .select-content__wrapper:first-child").find(".select-content__radio").prop("checked",!0),$("#minPrice").val($("#minPrice").data("value")),$("#maxPrice").val($("#maxPrice").data("value")),$(document).on("click",".filters__btn",(function(e){e.preventDefault();var t=$(".select-motor").find(".select-content__radio:checked").val(),o=$(".select-brand").find(".select-content__radio:checked").val(),n=parseInt($("#minPrice").val()),s=parseInt($("#maxPrice").val()),r=$(".catalog__list-slider.active"),c=$(".catalog__list__hidden-item");r.slick("unslick"),c.children().remove(),r.children().remove(),r.append(i),$("#overlay").fadeOut(215),$(".catalog .filters").removeClass("show");var d=r.find(".catalog__list-item");a.addClass("loader"),d.each((function(){if(!$(this).closest(".slick-slide").hasClass("slick-cloned")){var e=$(this).data("motor"),a=$(this).data("model"),l=$(this).find(".catalog__list-item__list-item.price .catalog__list-item__list-item__content").text().trim();l=(l=l.replace("от ","")).replace(" ",""),function(e){return n<=e&&e<=s}(l=parseInt(l))?a!==o||"all"===o?("all"!==o&&c.append($(this)),e!==t&&c.append($(this))):(console.log(a,o),e!==t&&"all"!==t&&c.append($(this))):c.append($(this))}})),0===(d=r.find(".catalog__list-item")).length?$(".catalog__list__empty").show():($(".catalog__list__empty").hide(),l(".catalog__list-slider.active",!1)),setTimeout((function(){a.removeClass("loader")}),2e3)})),r("cargo_price_range","cargo_price",1e5),r("leasing_period_range","leasing_period",1),r("prepayment_range","prepayment",1e5),r("redemption_payment_range","redemption_payment",1),window.matchMedia("(max-width: 991.98px)").matches){var c=document.querySelector(".program__top__inf-hover"),d=document.querySelector(".program__top__inf-title__circle");d.addEventListener("click",(function(){c.classList.toggle("active"),d.classList.toggle("active")})),document.addEventListener("click",(function(e){var t=e.target,a=t==d||d.contains(t);t==c||c.contains(t)||a||(c.classList.remove("active"),d.classList.remove("active"))})),$(".leasing-help__list").slick({slidesToShow:2,slidesToScroll:1,speed:300,draggable:!1,arrows:!1,dots:!0,dotsClass:"slider-dots",infinite:!0,variableWidth:!0,swipe:!0,responsive:[{breakpoint:575,settings:{slidesToShow:1,slidesToScroll:1}}]})}function m(e){var t=$(e),o=t.find(".input-name"),n=t.find(".input-phone"),l=t.find("input"),i=t.find('button[type="submit"]'),s=!1,r=!1;l.val(""),o.on("blur",(function(){s=formNameValid(o,s)})),n.on("blur",(function(){r=formPhoneValid(n,r)})),l.on("blur",(function(){s&&r?i.removeClass("disabled"):i.addClass("disabled")})),t.on("submit",(function(e){e.preventDefault();var t=this.getAttribute("ID"),o=$(this).find(".input-name").val().trim(),n=$(".modal").find(".name"),l=new FormData(document.getElementById(t));o&&(n.text(""),n.text(o)),$(".modal").fadeOut(215),a.addClass("loader"),i.hasClass("disabled")||$.ajax({url:"https://jsonplaceholder.typicode.com/posts",type:"post",data:l,processData:!1,contentType:!1,success:function(e){setTimeout((function(){a.removeClass("loader"),101===e.id?$("#modal_feedback_success").fadeIn(215):$("#modal_feedback_error").fadeIn(215)}),2e3)},error:function(e,t,o){console.log(e),console.log(t),console.log(o),setTimeout((function(){a.removeClass("loader"),$("#modal_feedback_error").fadeIn(215)}),2e3)}})}))}$(".cargo-with-mileage__tabs").on("click",".cargo-with-mileage__tabs-item",(function(){var e=$(this).data("tab");void 0===e&&(e=$(this).val()),console.log(e),$(".cargo-with-mileage__tabs-item").removeClass("active"),$(this).addClass("active"),$(".cargo-with-mileage__content-item").removeClass("active"),$('.cargo-with-mileage__content-item[data-content="'+e+'"]').addClass("active")})),function(){(e=function(e,t){this.el=e||{},this.multiple=t||!1,this.el.find(".accordion-submenu__link").on("click",{el:this.el,multiple:this.multiple},this.dropdown)}).prototype.dropdown=function(e){var t=e.data.el,a=$(this),o=a.next();o.slideToggle(),a.parent().toggleClass("open"),e.data.multiple||t.find(".accordion-submenu").not(o).slideUp().parent().removeClass("open")};var e=new e($(".accordion"),!1)}(),$(".input-phone").inputmask({mask:"+7 (X99) 999-99-99",definitions:{X:{validator:"9",placeholder:"9"}}}),$(document).on("click",".modal, .modal__close",(function(){$(".modal").fadeOut(215)})),$(document).on("click",".modal__content",(function(e){e.stopPropagation()})),m(".feedback__form")}));
//# sourceMappingURL=main.min.js.map
