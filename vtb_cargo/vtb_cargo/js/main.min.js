"use strict";function customSelect(e,t,a,n,o,l){document.querySelectorAll(e).forEach((function(e){var t=e.querySelector(n).offsetHeight;e.querySelector(a).style.maxHeight=t*l+16+"px"})),$(e).on("click",n,(function(){var a=$(this).find(o).text(),n=$(this).closest(e);n.find(t).text(a),n.removeClass("open")})).on("click",t,(function(){$(this).closest(e).hasClass("open")?$(e).removeClass("open"):($(e).removeClass("open"),$(this).closest(e).addClass("open"))}))}function clickOutside(e,t,a){$((function(){var n=0;$(e).each((function(){n++,$(this).attr("data-name","wrapper__touch"+n)})),$('[data-name="'+n+'"]').ready((function(){var e=$(this).find(t).parent();$(this).find(".wrapper__touch").click((function(e){$(".wrapper__touch").not(this).parent().removeClass(a),$(this).parent().toggleClass(a)})),$(document).on("click touchstart",(function(t){$(t.target).closest(e).length||e.removeClass(a)}))}))}))}function resizeInput(){this.style.width=this.value.length+"ch"}function formNameValid(e,t){return e.val().length<2?(t=!1,e.addClass("validate-border"),e.parent().find(".msg-error").show()):0===e.val().length?(t=!1,e.parent().find(".msg-error").hide(),e.parent().find(".msg-empty").show(),e.addClass("validate-border")):(t=!0,e.removeClass("validate-border"),e.parent().find(".msg-error").hide()),t}function formPhoneValid(e,t){var a=/_/;return 0===e.val().length?(t=!1,e.addClass("validate-border"),e.parent().find(".msg").hide(),e.parent().find(".msg-error-empty").show()):e.val().length>0&&a.test(e.val())?(t=!1,e.addClass("validate-border"),e.parent().find(".msg").hide(),e.parent().find(".msg-error-phone").show()):e.val().length>0&&!a.test(e.val())?(t=!0,e.removeClass("validate-border"),e.parent().find(".msg").hide()):t=!1,t}function formEmailValid(e,t){var a=e.val().split("@");return console.log(e.val()),e.val().length>0&&!/_/.test(e.val())?a[0].length<3?(e.addClass("validate-border"),e.parent().find(".msg").hide(),e.parent().find(".msg-error-length").show(),t=!1):(e.removeClass("validate-border"),e.parent().find(".msg").hide(),t=!0):(e.parent().find(".msg").hide(),""===e.val().length?e.parent().find(".msg-error-empty").show():e.parent().find(".msg-error-invalid").show(),e.addClass("validate-border"),t=!1),t}$(document).ready((function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";var a=$("body");function n(e){$(e).scrollTop()>window.innerHeight?a.addClass("prev_nav_scroll"):a.removeClass("prev_nav_scroll"),$(e).scrollTop()>window.innerHeight+300?a.addClass("nav_scroll"):a.removeClass("nav_scroll")}n(window),$(window).scroll((function(){n(this)}));var o=$(".hamburger");function l(e,t){$(e).slick({slidesToShow:3,slidesToScroll:3,speed:300,draggable:!1,arrows:!0,infinite:t,variableWidth:!0,prevArrow:'<a class="arrow-left"><svg width="11" height="22" viewBox="0 0 11 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 0.884978C9.27834 0.884978 9.05667 0.966644 8.88167 1.14164L1.275 8.74831C0.0383371 9.98498 0.0383371 12.015 1.275 13.2516L8.88167 20.8583C9.22 21.1966 9.78 21.1966 10.1183 20.8583C10.4567 20.52 10.4567 19.96 10.1183 19.6216L2.51167 12.015C1.95167 11.455 1.95167 10.545 2.51167 9.98498L10.1183 2.37831C10.4567 2.03998 10.4567 1.47998 10.1183 1.14164C9.94334 0.978311 9.72167 0.884978 9.5 0.884978Z" fill="currentColor"/></svg></a>',nextArrow:'<a class="arrow-right"><svg width="11" height="22" viewBox="0 0 11 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.50003 0.884978C1.72169 0.884978 1.94336 0.966644 2.11836 1.14164L9.72503 8.74831C10.9617 9.98498 10.9617 12.015 9.72503 13.2516L2.11836 20.8583C1.78003 21.1966 1.22003 21.1966 0.881695 20.8583C0.543362 20.52 0.543362 19.96 0.881695 19.6216L8.48836 12.015C9.04836 11.455 9.04836 10.545 8.48836 9.98498L0.881695 2.37831C0.543362 2.03998 0.543362 1.47998 0.881695 1.14164C1.05669 0.978311 1.27836 0.884978 1.50003 0.884978Z" fill="currentColor"/></svg></a>',swipe:!0,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,dots:!0,dotsClass:"slider-dots"}}]})}$(".nav-menu__list-item > a").on("click",(function(e){if(!$(this).parent().hasClass("nav-menu__list-item_last")){e.preventDefault();var t=$(this).attr("href");$("html,body").stop().animate({scrollTop:$(t).offset().top},1e3),o.hasClass("open")&&(o.removeClass("open"),$("header").find(".nav-menu").removeClass("show"))}})),o.on("click",(function(){$(this).toggleClass("open"),$("header").find(".nav-menu").toggleClass("show")})),$(document).on("click",".btn-call, .main-hero__btn, .calculator__btn",(function(e){e.preventDefault(),$("#modal_feedback_form").fadeIn(215),c("#modal_form__feedback"),o.hasClass("open")&&(o.removeClass("open"),$("header").find(".nav-menu").removeClass("show"))})),customSelect(".select",".select-title",".select-content",".select-content__wrapper",".select-content__radio",4),clickOutside(".select",".select-content","open"),$(document).on("click",".catalog__btn-show-filters",(function(){$("#overlay").fadeIn(215),$(".catalog").find(".filters").addClass("show")})),$(document).on("click",".catalog .filters .close, #overlay",(function(){$("#overlay").fadeOut(215),$(".catalog .filters").removeClass("show")}));var i,s=$(".catalog__tabs");function r(e,t,a){var n=document.getElementById(e),o=document.getElementById(t);noUiSlider.create(n,{start:[o.value],connect:!0,step:a,range:{min:parseFloat(o.getAttribute("min")),max:parseFloat(o.getAttribute("max"))}}),n.noUiSlider.on("update",(function(e,t){o.value=Math.round(e[0])}));o.addEventListener("change",(function(e){var t,a,o;t=0,a=e.currentTarget.value,(o=[null,null])[t]=a,n.noUiSlider.set(o)})),resizeInput.call(o)}function c(e){var t=$(e),n=t.find(".input-name"),o=t.find(".input-phone"),l=t.find(".input-email"),i=t.find("input"),s=t.find('button[type="submit"]'),r=!1,c=!1,d=!1;i.val(""),n.on("blur",(function(){r=formNameValid(n,r)})),o.on("blur",(function(){c=formPhoneValid(o,c)})),l.on("blur",(function(){d=formEmailValid(l,d)})),i.on("blur",(function(){r&&c&&d?s.removeClass("disabled"):s.addClass("disabled")})),t.on("submit",(function(e){e.preventDefault();var t=this.getAttribute("ID"),n=$(this).find(".input-name").val().trim(),o=$(".modal").find(".name"),l=new FormData(document.getElementById(t));n&&(o.text(""),o.text(n)),$(".modal").fadeOut(215),a.addClass("loader"),s.hasClass("disabled")||$.ajax({url:"https://jsonplaceholder.typicode.com/posts",type:"post",data:l,processData:!1,contentType:!1,success:function(e){setTimeout((function(){a.removeClass("loader"),101===e.id?$("#modal_feedback_success").fadeIn(215):$("#modal_feedback_error").fadeIn(215)}),2e3)},error:function(e,t,n){console.log(e),console.log(t),console.log(n),setTimeout((function(){a.removeClass("loader"),$("#modal_feedback_error").fadeIn(215)}),2e3)}})}))}document.querySelectorAll(".catalog__list .catalog__list-slider").forEach((function(e){e.dataset.tab===s.find(".catalog__tabs-item.active").data("tab")&&(e.classList.add("active"),i=$(".catalog__list-slider.active").children(),l(".catalog__list-slider.active",!0))})),s.on("click",".catalog__tabs-item",(function(){var e=$(this),t=e.data("tab"),n=$(".catalog__list .catalog__list-slider.active"),o=document.querySelector('.catalog__list .catalog__list-slider[data-tab="'+t+'"]');a.addClass("loader"),setTimeout((function(){i=null,n.removeClass("active"),n.slick("unslick"),o.classList.add("active"),i=$(".catalog__list-slider.active").children(),l(".catalog__list-slider.active",!0),$(".catalog__tabs").find(".catalog__tabs-item").removeClass("active"),e.addClass("active"),a.removeClass("loader")}),1e3)})),function(){var e=$("#minPrice"),t=$("#maxPrice"),a=[document.getElementById("minPrice"),document.getElementById("maxPrice")],n=document.getElementById("price_range");if(n){noUiSlider.create(n,{start:[e.val(),t.val()],connect:!0,step:1,range:{min:[parseInt(e.val())],max:[parseInt(t.val())]}}),n.noUiSlider.on("update",(function(e,t){a[t].value=Math.round(e[t])}));a.forEach((function(e,t){e.addEventListener("change",(function(e){var a,o,l;a=t,o=e.currentTarget.value,(l=[null,null])[a]=o,n.noUiSlider.set(l)}))}))}resizeInput.call(e[0]),resizeInput.call(t[0]),document.querySelectorAll(".noUi-handle").forEach((function(a){a.addEventListener("mousedown",(function(){this.addEventListener("mousemove",(function(){this.classList.contains("noUi-handle-upper")?resizeInput.call(t[0]):this.classList.contains("noUi-handle-lower")&&resizeInput.call(e[0])}))})),a.addEventListener("mouseover",(function(){}))}))}(),$(".catalog__filters .select .select-content .select-content__wrapper:first-child").find(".select-content__radio").prop("checked",!0),$("#minPrice").val($("#minPrice").data("value")),$("#maxPrice").val($("#maxPrice").data("value")),$(document).on("click",".filters__btn",(function(e){e.preventDefault();var t=$(".select-motor").find(".select-content__radio:checked").val(),n=$(".select-brand").find(".select-content__radio:checked").val(),o=parseInt($("#minPrice").val()),s=parseInt($("#maxPrice").val()),r=$(".catalog__list-slider.active"),c=$(".catalog__list__hidden-item");r.slick("unslick"),c.children().remove(),r.children().remove(),r.append(i),$("#overlay").fadeOut(215),$(".catalog .filters").removeClass("show");var d=r.find(".catalog__list-item");a.addClass("loader"),d.each((function(){if(!$(this).closest(".slick-slide").hasClass("slick-cloned")){var e=$(this).data("motor"),a=$(this).data("model"),l=$(this).find(".catalog__list-item__list-item.price .catalog__list-item__list-item__content").text().trim();l=(l=l.replace("от ","")).replace(" ",""),function(e){return o<=e&&e<=s}(l=parseInt(l))?a!==n||"all"===n?("all"!==n&&c.append($(this)),e!==t&&c.append($(this))):(console.log(a,n),e!==t&&"all"!==t&&c.append($(this))):c.append($(this))}})),0===(d=r.find(".catalog__list-item")).length?$(".catalog__list__empty").show():($(".catalog__list__empty").hide(),l(".catalog__list-slider.active",!1)),setTimeout((function(){a.removeClass("loader")}),2e3)})),r("cargo_price_range","cargo_price",1e5),r("leasing_period_range","leasing_period",1),r("prepayment_range","prepayment",1e5),r("redemption_payment_range","redemption_payment",1),$(".cargo-with-mileage__tabs").on("click",".cargo-with-mileage__tabs-item",(function(){var e=$(this).data("tab");$(".cargo-with-mileage__tabs-item").removeClass("active"),$(this).addClass("active"),$(".cargo-with-mileage__content-item").removeClass("active"),$('.cargo-with-mileage__content-item[data-content="'+e+'"]').addClass("active")})),function(){(e=function(e,t){this.el=e||{},this.multiple=t||!1,this.el.find(".accordion-submenu__link").on("click",{el:this.el,multiple:this.multiple},this.dropdown)}).prototype.dropdown=function(e){var t=e.data.el,a=$(this),n=a.next();n.slideToggle(),a.parent().toggleClass("open"),e.data.multiple||t.find(".accordion-submenu").not(n).slideUp().parent().removeClass("open")};var e=new e($(".accordion"),!1)}(),$(".input-phone").inputmask({mask:"+7 (X99) 999-99-99",definitions:{X:{validator:"9",placeholder:"9"}}}),$(".input-email").inputmask("email"),$(document).on("click",".modal, .modal__close",(function(){$(".modal").fadeOut(215)})),$(document).on("click",".modal__content",(function(e){e.stopPropagation()})),c(".feedback__form")}));