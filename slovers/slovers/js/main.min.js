"use strict";function _createForOfIteratorHelper(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){l=!0,s=e},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw s}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function checkValue(e){return isNaN(e)?1:e}function banText(e){var t=parseFloat(e.key);isNaN(t)&&e.preventDefault()}function getStyle(e){return window.getComputedStyle?getComputedStyle(e,null):e.currentStyle}var commonObjColumn,commonObjList,mainTableArr,removeSpaces=function(e){return e.replace(/\s+/g,"")};function compareNumeric(e,t){return e>t?1:e==t?0:e<t?-1:void 0}function customSelect(e,t,a,i,n,s){document.querySelectorAll(e).forEach((function(e){var t=e.querySelector(i).offsetHeight;e.querySelector(a).style.maxHeight=t*s+16+"px"})),$(e).on("click",i,(function(){var a=$(this).find(n).text(),i=$(this).closest(e);i.find(t).text(a),i.removeClass("open")})).on("click",t,(function(){$(this).closest(e).hasClass("open")?$(e).removeClass("open"):($(e).removeClass("open"),$(this).closest(e).addClass("open"))}))}function clickOutside(e,t,a){$((function(){var i=0;$(e).each((function(){i++,$(this).attr("data-name","wrapper__touch"+i)})),$('[data-name="'+i+'"]').ready((function(){var e=$(this).find(t).parent();$(this).find(".wrapper__touch").click((function(e){$(".wrapper__touch").not(this).parent().removeClass(a),$(this).parent().toggleClass(a)})),$(document).on("click touchstart",(function(t){$(t.target).closest(e).length||e.removeClass(a)}))}))}))}function offersSlider(e){$(e).slick({lazyLoad:"ondemand",slidesToShow:3,slidesToScroll:1,speed:300,draggable:!1,arrows:!0,infinite:!0,variableWidth:!0,prevArrow:'<a class = "arrow-left"></a>',nextArrow:'<a class = "arrow-right"></a>',swipe:!0,responsive:[{breakpoint:768.98,settings:{slidesToShow:2}},{breakpoint:574.98,settings:{slidesToShow:1,dots:!0,arrows:!1,asNavFor:!1,fade:!1}}]})}function phoneMask(){$('[data-phone-mask=""]').inputmask({mask:"+7 (999) 999-99-99"})}function emailMask(){$('[data-email-mask=""]').inputmask({mask:"*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}[.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",casing:"lower"}}})}function formNameValid(e,t){return e.val().length<2?(t=!1,e.addClass("validate-border"),e.parent().find(".icon-wrapper")[0].style.display="none"):(t=!0,e.removeClass("validate-border"),e.parent().find(".icon-wrapper")[0].style.display="flex"),t}function formPhoneValid(e,t){var a=/_/;return 0===e.val().length||e.val().length>0&&a.test(e.val())?(t=!1,e.addClass("validate-border"),e.parent().find(".icon-wrapper")[0].style.display="none"):e.val().length>0&&!a.test(e.val())?(t=!0,e.removeClass("validate-border"),e.parent().find(".icon-wrapper")[0].style.display="flex"):t=!1,t}function formEmailValid(e,t){var a=e.val().split("@");return e.val().length>0&&1===(e.val().match(/.+?\@.+\.+/g)||[]).length?a[0].length<3?(e.addClass("validate-border"),e.parent().find(".icon-wrapper")[0].style.display="none",t=!1):(e.removeClass("validate-border"),e.parent().find(".icon-wrapper")[0].style.display="flex",t=!0):(e.addClass("validate-border"),e.parent().find(".icon-wrapper")[0].style.display="none",t=!1),t}function resetSortingTable(){return $(".table").find(".table-head__item").each((function(){$(this).find('[name="table_sort"]').prop("checked",!1),$(this).find('[name="table_sort"]').removeClass("onSorting")})),!1}function tablePagination(e,t,a,i,n){var s,r,l,o=a,c=0,d=t-e,m=0,h=[];o.find(".pagination__link.pag_next").removeClass("disable"),o.find(".table-body .table-body__row").each((function(t){n&&i?$(this).hasClass("onFilter")?(h.push(t),s=h.length,(l=parseInt(this.style.order))>=e?$(this).hide():window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex"):$(this).hide():i?$(this).hasClass("onFilter")&&(h.push(t),(s=h.length)<=e?window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex":$(this).hide()):n?(c++,(l=parseInt(this.style.order))+1>e?$(this).hide():window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex"):(c++,t+1>e?$(this).hide():window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex")})),i?(r=s>e?e:s,(d===s-1&&d===r-1||s===r)&&o.find(".pagination__link").addClass("disable"),d===s-1&&(s-=1),d===r-1&&(r-=1),o.find(".table-footer .pagination__text-total").text(s),void 0===r?o.find(".table-pagination").hide():o.find(".table-pagination").css("display","flex")):(r=c>e?e:c,o.find(".table-footer .pagination__text-total").text(c)),o.find(".table-footer .pagination__text-current").text(d+"-"+r),o.find(".pagination__link").off("click"),o.find(".pagination__link").on("click",(function(a){a.preventDefault();var d=$(this);s=h.length,h=[],$(this).hasClass("pag_next")&&(m=t+e,$(this).parent().find(".pag_prev").removeClass("disable"),o.find(".table-body .table-body__row").each((function(e){if(n&&i)$(this).hasClass("onFilter")?(h.push(e),s=h.length,l=parseInt(this.style.order),t<=l+1&&l+1<m?window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex":$(this).hide()):$(this).hide();else if(i){if($(this).hasClass("onFilter")){h.push(e);for(var a=0;a<h.length;a++){var p=h[a],f=o.find(".table-body .table-body__row")[p];t<=a+1&&a+1<m?window.matchMedia("(min-width: 768px)").matches?f.style.display="grid":f.style.display="flex":a+1<t&&(f.style.display="none")}}}else n?(l=parseInt($(this)[0].style.order),t<=l+1&&l+1<m?window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex":$(this).hide(),(r=c>m-1?m-1:c)===c&&d.addClass("disable"),r!==c&&d.removeClass("disable")):t<=e+1&&e+1<m?window.matchMedia("(min-width: 768px)").matches?$(this).css("display","grid"):$(this).css("display","flex"):e+1<t&&$(this).hide()})),i?((r=s>m-1?m-1:s)===s&&d.addClass("disable"),r!==s&&d.removeClass("disable")):((r=c>m-1?m-1:c)===c&&d.addClass("disable"),r!==c&&d.removeClass("disable")),o.find(".table-footer .pagination__text-current").text(t+"-"+r),t=m),$(this).hasClass("pag_prev")&&(m=t-e,t-=2*e,$(this).parent().find(".pag_next").removeClass("disable"),o.find(".table-body .table-body__row").each((function(e){if(n&&i)$(this).hasClass("onFilter")?(h.push(e),s=h.length+1,l=parseInt(this.style.order),t<=l+1&&l+1<m?window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex":$(this).hide()):$(this).hide();else if(i){if($(this).hasClass("onFilter")){h.push(e);for(var a=0;a<h.length;a++){var r=h[a],c=o.find(".table-body .table-body__row")[r];t<=a+1&&a+1<m?window.matchMedia("(min-width: 768px)").matches?c.style.display="grid":c.style.display="flex":a+1>=m&&(c.style.display="none")}}}else n?(l=parseInt($(this)[0].style.order),t<=l+1&&l+1<m?window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex":$(this).hide()):t<=e+1&&e+1<m?window.matchMedia("(min-width: 768px)").matches?$(this).css("display","grid"):$(this).css("display","flex"):e+1>=m&&$(this).hide()})),r=i?s>m-1?m-1:s:c>m-1?m-1:c,o.find(".table-footer .pagination__text-current").text(t+"-"+r),r===e&&d.addClass("disable"),r!==e&&d.removeClass("disable"),t=m)}))}function tabsSwitch(e,t,a,i){var n,s,r=$(e),l=r.find(".tabs-container"),o=l.find(".tabs-panel_one"),c=l.find(".tabs-panel_two"),d=l.find(".tabs-panel__select"),m=o.find("input:checked").val();n=window.matchMedia("(min-width: 768px)").matches?c.find("input:checked").val():d.find("input:checked").val(),(s=r.find(t+'[data-status="'+m+'"][data-space="'+n+'"]')).show(),a&&!i&&tablePagination(6,7,s,!1,!1),o.on("change","input",(function(){m=$(this).val(),n=c.find("input:checked").val(),s=r.find(t+'[data-status="'+m+'"][data-space="'+n+'"]'),r.find(t).hide(),s.show(),a&&!i&&tablePagination(6,7,s,!1,!1)})),c.on("change","input",(function(){n=$(this).val(),m=o.find("input:checked").val(),s=r.find(t+'[data-status="'+m+'"][data-space="'+n+'"]'),r.find(t).hide(),s.show(),a&&!i&&tablePagination(6,7,s,!1,!1)})),d.on("change","input",(function(){n=$(this).val(),m=o.find("input:checked").val(),s=r.find(t+'[data-status="'+m+'"][data-space="'+n+'"]'),r.find(t).hide(),s.show(),a&&!i&&tablePagination(6,7,s,!1,!1)}))}function parametersCatalogCardColumns(){var e=[],t=[],a=[],i=[],n=[],s=[];return $(".catalog__list .catalog-card").each((function(r){var l=removeSpaces($(this).find(".catalog-card__price").text()),o=parseInt(l),c=$(this).data("place"),d=$(this).data("status"),m=$(this).data("space"),h=checkValue(parseInt($(this).find(".catalog-card__quadrature").text())),p=r+1;e.push(o),t.push(c),a.push(d),i.push(m),n.push(h),s.push(p)})),{PRICE:e,PLACE:t,STATUS:a,SPACE:i,QUADRATURE:n,INDEX:s}}function parametersCatalogCardList(){var e=[],t=[],a=[],i=[],n=[],s=[],r=[],l=[];return $(".catalog__table .table-body__row").each((function(o){var c,d,m,h,p=removeSpaces($(this).find(".table-body__item_price").text()),f=parseInt(p),u=$(this).data("place"),_=$(this).data("status"),g=$(this).data("space"),b=checkValue(parseInt($(this).find(".table-body__item_square").text())),y=removeSpaces($(this).find(".table-body__item_building").text()),v=checkValue(parseInt($(this).find(".table-body__item_floor").text())),w=o;e.push((_defineProperty(c={},"index",w),_defineProperty(c,"value",f),c)),n.push((_defineProperty(d={},"index",w),_defineProperty(d,"value",b),d)),s.push((_defineProperty(m={},"index",w),_defineProperty(m,"value",v),m)),r.push((_defineProperty(h={},"index",w),_defineProperty(h,"value",y),h)),t.push(u),a.push(_),i.push(g),l.push(w+1)})),{PRICE:e,PLACE:t,STATUS:a,SPACE:i,QUADRATURE:n,INDEX:l,NAME:r,FLOOR:s}}function parametersMainTable(){var e=[];return $(".offers-inf__table").each((function(t){var a,i=[],n=[],s=[],r=[],l=[];$(this).find(".table-body__row").each((function(e){var t,a,o,c,d=removeSpaces($(this).find(".table-body__item_price").text()),m=parseInt(d),h=checkValue(parseInt($(this).find(".table-body__item_square").text())),p=removeSpaces($(this).find(".table-body__item_building").text()),f=checkValue(parseInt($(this).find(".table-body__item_floor").text())),u=e;i.push((_defineProperty(t={},"index",u),_defineProperty(t,"value",m),t)),n.push((_defineProperty(a={},"index",u),_defineProperty(a,"value",h),a)),s.push((_defineProperty(o={},"index",u),_defineProperty(o,"value",f),o)),r.push((_defineProperty(c={},"index",u),_defineProperty(c,"value",p),c)),l.push(u+1)})),a={PRICE:i,PLACE:[],STATUS:[],SPACE:[],QUADRATURE:n,INDEX:l,NAME:r,FLOOR:s,STATUS_TEXT:$(this).data("status"),SPACE_TEXT:$(this).data("space")},e.push(a)})),e}function catalogFilterFunc(e,t,a,i,n,s){var r=$(".catalog__right").find('[name="display_type"]:checked').val();("rent"===i?document.querySelector(".table-head__item_price .table-radio_custom .text").innerHTML="Цена/мес":"sale"===i&&(document.querySelector(".table-head__item_price .table-radio_custom .text").innerHTML="Цена"),"columns"===r)?($(".catalog__list .catalog-card").each((function(){var e=removeSpaces($(this).find(".catalog-card__price").text()),r=parseInt(e),l=$(this).data("place"),o=$(this).data("status"),c=$(this).data("space"),d=checkValue(parseInt($(this).find(".catalog-card__quadrature").text()));$(document).find(".catalog-more_link").hide(),(!i||i===o)&&(!a||(a===l||"all"===a))&&(!n||(n===c||"all"===n))&&t[0]<=r&&r<=t[1]&&s[0]<=d&&d<=s[1]?(this.style.display="block",this.classList.add("onFilter")):(this.style.display="none",this.classList.remove("onFilter"))})),$(".catalog__list .catalog-card.onFilter").length>0?$(document).find(".catalog__wrapper .not-found").hide():$(document).find(".catalog__wrapper .not-found").show()):"list"===r&&($(".catalog__table .table-body__row").each((function(){var e=removeSpaces($(this).find(".table-body__item_price").text()),r=parseInt(e),l=$(this).data("place"),o=$(this).data("status"),c=$(this).data("space"),d=checkValue(parseInt($(this).find(".table-body__item_square").text()));(""===i||i===o)&&(""===a||(a===l||"all"===a))&&(""===n||(n===c||"all"===n))&&t[0]<=r&&r<=t[1]&&s[0]<=d&&d<=s[1]?(window.matchMedia("(min-width: 768px)").matches?this.style.display="grid":this.style.display="flex",this.classList.add("onFilter")):(this.style.display="none",this.classList.remove("onFilter"))})),$(".catalog__table .table-body__row.onFilter").length>0?$(document).find(".catalog__wrapper .not-found").hide():$(document).find(".catalog__wrapper .not-found").show())}function catalogFilter(e){var t,a,i=$(".catalog__filter"),n=$(".catalog__right").find('[name="display_type"]:checked').val(),s=$("#place_select").find('input[name="place"]'),r=$("#space_select").find('input[name="space"]'),l=i.find('input[name="rent_sale"]');function o(e){var t="";return e.each((function(){if($(this).is(":checked"))return t=$(this).val()})),t}function c(){var i,n,c,d,m,h=$(".catalog__right").find('[name="display_type"]:checked').val(),p=o(l),f=o(s),u=o(r),_=($('[name="table_sort"]:checked').length,$("#filter_max_square").val()),g=$("#filter_min_price").val(),b=$("#filter_max_price").val(),y=resetSortingTable();i=localStorage.getItem("min_square")?localStorage.getItem("min_square"):$("#filter_min_square").val(),"columns"===h?(n=parseInt(""!==i?i:a[0]),c=parseInt(""!==_?_:a[a.length-1]),d=parseInt(""!==g?g:t[0]),m=parseInt(""!==b?b:t[t.length-1])):"list"===h&&(n=parseInt(""!==i?i:a[0].value),c=parseInt(""!==_?_:a[a.length-1].value),d=parseInt(""!==g?g:t[0].value),m=parseInt(""!==b?b:t[t.length-1].value)),catalogFilterFunc(e,[d,m],f,p,u,[n,c]),tablePagination(13,14,$(".catalog__table"),!0,y),$(document).find(".reset_filter").addClass("active")}"columns"===n?(t=e.PRICE.sort(compareNumeric),a=e.QUADRATURE.sort(compareNumeric)):"list"===n&&(a=e.QUADRATURE.sort((function(e,t){return e.value-t.value})),t=e.PRICE.sort((function(e,t){return e.value-t.value}))),i.on("change","input",(function(){c()})),$("#filter_max_square, #filter_min_price, #filter_max_price, #filter_min_square").on("keyup",(function(){setTimeout(c,1e3)}))}commonObjColumn=parametersCatalogCardColumns(),commonObjList=parametersCatalogCardList(),mainTableArr=parametersMainTable(),$(document).ready((function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$('.hamburger-content a[href^="#"], *[data-href^="#"]').on("click",(function(e){e.preventDefault();var t=$(this).attr("data-href")?$(this).attr("data-href"):$(this).attr("href");$("html,body").stop().animate({scrollTop:$(t).offset().top},1e3),$(".hamburger-wrapper").removeClass("show")})),customSelect(".select",".select-title",".select-content",".select-content__wrapper",".select-content__radio",4),clickOutside(".select",".select-content","open"),phoneMask(),emailMask(),$(document).on("click",".hamburger",(function(){$(this).parent().hasClass("show")?$(this).parent().removeClass("show"):$(this).parent().addClass("show")}));var a=document.querySelector(".hamburger-wrapper");function i(e,t){var a=$(".overlay-spinner");a.length>0&&(a[0].style.display="flex");var i=$(document).find('[name="'+e+'"]:checked').val(),n=$(".catalog__wrapper"),s=$(".catalog__filter"),r=$('.catalog__filter [name="rent_sale"]:checked').val(),l=$('.catalog__filter [name="place"]:checked').val(),o=$('.catalog__filter [name="place"]:checked').parent().find(".select-content__radio").text(),c=$('.catalog__filter [name="space"]:checked').val(),d=$('.catalog__filter [name="space"]:checked').parent().find(".select-content__radio").text(),m=($('[name="table_sort"]:checked').length,$("#filter_min_square").val()),h=$("#filter_max_square").val(),p=$("#filter_min_price").val(),u=$("#filter_max_price").val();resetSortingTable();n.find("[data-"+t+"]").removeClass("show"),"columns"===i?(n.find(".catalog-more_link").show(),$("#sorting_price").parent().show(),catalogFilter(commonObjColumn)):"list"===i&&(n.find(".catalog-more_link").hide(),$("#sorting_price").parent().hide(),catalogFilter(commonObjList)),f(),r||l||c||m||p||h||u?(tablePagination(13,14,$(".catalog__table"),!0,!1),s.find('[name="rent_sale"][value="'+r+'"]').prop("checked",!0),s.find('[name="rent_sale"]').trigger("change"),s.find('[name="place"][value="'+l+'"]').prop("checked",!0),$('.catalog__filter [name="place"]:checked').closest(".select").find(".select-title").text(o),s.find('[name="place"]').trigger("change"),s.find('[name="space"][value="'+c+'"]').prop("checked",!0),$('.catalog__filter [name="space"]:checked').closest(".select").find(".select-title").text(d),s.find('[name="space"]').trigger("change"),$("#filter_min_square").val(m),$("#filter_min_square").trigger("keyup"),$("#filter_max_square").val(h),$("#filter_max_square").trigger("keyup"),$("#filter_min_price").val(p),$("#filter_min_price").trigger("keyup"),$("#filter_max_price").val(u),$("#filter_max_price").trigger("keyup")):tablePagination(13,14,$(".catalog__table"),!1,!1),setTimeout((function(){a.length>0&&(a[0].style.display="none"),n.find("[data-"+t+'="'+i+'"]').addClass("show")}),1e3)}function n(){var e=$("#KP_form"),t=e.find('[type="submit"]'),a=e.find(".name-input"),i=e.find(".phone-input"),n=e.find(".email-input"),s=!1,r=!1,l=!1;a.blur((function(){s=formNameValid(a,s)})),i.blur((function(){r=formPhoneValid(i,r)})),n.blur((function(){l=formEmailValid(n,l)})),e.find("input").on("blur",(function(){s&&r&&l?(t.removeClass("disable"),a.removeClass("validate-border"),i.removeClass("validate-border"),n.removeClass("validate-border")):t.addClass("disable")}))}document.addEventListener("click",(function(e){var t=e.target,i=t==a||a.contains(t),n=a.classList.contains("show");!i&&n&&$(".hamburger-wrapper").removeClass("show")})),$(".hero-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,speed:300,autoplay:!0,autoplaySpeed:4e3,swipe:!1}),offersSlider(".offers-slider"),i("display_type","display-type"),$(document).find('[name="display_type"]').on("change",(function(){i("display_type","display-type")})),$(".card__slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,infinite:!1,asNavFor:".card__slider-nav",responsive:[{breakpoint:574.98,settings:{slidesToShow:1,dots:!0,variableWidth:!0,arrows:!1,asNavFor:!1,fade:!1}}]}),$(".card__slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".card__slider",dots:!1,arrows:!0,infinite:!1,variableWidth:!0,prevArrow:'<a class="arrow-left"></a>',nextArrow:'<a class="arrow-right"></a>',swipe:!0}),$(document).on("click",".commercial-offer",(function(e){e.preventDefault();var t=$("#modal_commercial-offer"),a=$(this).data("url"),i=$(this).data("id");t.find("#url_product").val(a),t.find("#id_product").val(i),t[0].style.display="block",t.animate({opacity:1},100),n()})),$(document).on("click",".modal, .modal-close",(function(e){e.preventDefault(),$(this).hasClass("modal")?($(this)[0].style.display="none",$(this).animate({opacity:0},100)):$(this).hasClass("modal-close")&&($(this).closest(".modal")[0].style.display="none",$(this).closest(".modal").animate({opacity:0},100)),n()})),$(document).on("click",".modal .modal-content",(function(e){e.stopPropagation()}));var s=$(".card");s.on("click",".first-column .card__top-column__description .icon-wrapper",(function(){$(this).closest(".first-column").find(".description-modal").addClass("show")})),s.on("click",".description-modal__item-close",(function(){$(this).parent().removeClass("show")}));var r,l,o,c,d,m,h=document.querySelector(".first-column");function p(e){var t=$(e),a=commonObjColumn.PRICE.sort(compareNumeric);$(".catalog__list .catalog-card").each((function(){var e=removeSpaces($(this).find(".catalog-card__price").text()),i=parseInt(e);if(t.prop("checked"))for(var n in a)a[n]===i&&$(this).css("order",n);else $(this).css("order","unset")}))}function f(){var e=$(".catalog__table .table-body__row");$(document).find(".catalog__filter input").prop("checked",!1),$("#space_select").find(".select-title").text("-- Выберите тип помещения --"),$("#place_select").find(".select-title").text("-- Выберите строение --"),$(document).find('.catalog__filter input[type="text"]').val(""),e.removeClass("onFilter"),window.matchMedia("(min-width: 768px)").matches?e.css("display","grid"):e.css("display","flex"),tablePagination(13,14,$(".catalog__table"),!1,!1),$(".catalog__list .catalog-card").css("display","block"),_()}function u(e,t,a,i,n){var s=t;if(n){var r,l=$(".catalog__table .table-body__row"),o=!1,c=0,d=0,m=[],h=[];$(".catalog__filter input").each((function(){if(o)return o;"text"===this.type?o=this.value.length>0:"radio"===this.type&&(o=this.checked&&"all"!==this.value)})),o&&(l.each((function(e){if($(this).hasClass("onFilter"))for(r=0;r<s.length;r++)s[r].index===e&&m.push(s[r]);else for(r=0;r<s.length;r++)s[r].index===e&&h.push(s[r])})),i?(m=m.sort((function(e,t){return e.value>t.value?1:e.value<t.value?-1:0})),h=h.sort((function(e,t){return e.value>t.value?1:e.value<t.value?-1:0}))):(m=m.sort((function(e,t){return e.value-t.value})),h=h.sort((function(e,t){return e.value-t.value})))),l.each((function(t){var n,r=removeSpaces($(this).find(a).text()),p=(i||parseInt(r),$(".catalog__table"));o?$('[value="'+e+'"]').is(":checked")?$(this).hasClass("onFilter")?((n=l[m[c].index]).style.order=c,window.matchMedia("(min-width: 768px)").matches?n.style.display="grid":n.style.display="flex",tablePagination(13,14,p,o,!0),c++):((n=l[h[d].index]).style.order=s.length-h.length,d++):(this.style.order=t,tablePagination(13,14,p,o,!1)):(n=l[s[t].index],$('[value="'+e+'"]').is(":checked")?(n.style.order=t,window.matchMedia("(min-width: 768px)").matches?n.style.display="grid":n.style.display="flex",tablePagination(13,14,p,o,!0)):(this.style.order=t,tablePagination(13,14,p,o,!1)))}))}else{var p,f,u,_=$(document).find('[name="sale_rent_table"]:checked').val();p=window.matchMedia("(min-width: 768px)").matches?$(document).find('.tabs-panel_two [name="object_table"]:checked').val():$(document).find('.tabs-panel__select [name="object_table_select"]:checked').val(),f=$('.offers-inf__table[data-status="'+_+'"][data-space="'+p+'"]'),(u=$('.offers-inf__table[data-status="'+_+'"][data-space="'+p+'"] .table-body__row')).each((function(t){var n=removeSpaces($(this).find(a).text()),r=(i||parseInt(n),u[s[t].index]);$('[value="'+e+'"]').is(":checked")?(r.style.order=t,window.matchMedia("(min-width: 768px)").matches?r.style.display="grid":r.style.display="flex",tablePagination(6,7,f,!1,!0)):($(this).css("order",t),tablePagination(6,7,f,!1,!1))}))}}function _(){var e;e=window.matchMedia("min-width: 768px")?10:6,"columns"===$(document).find('[name="display_type"]:checked').val()&&($(".catalog__list").find(".catalog-card").each((function(t){t+1>e?($(this).hide(),$(this).addClass("hide-card")):($(this).show(),$(this).removeClass("hide-card")),t+1<e?$(document).find(".catalog-more_link").hide():$(document).find(".catalog-more_link").show()})),$(document).on("click",".catalog-more_link",(function(t){t.preventDefault(),e*=2,$(".catalog__list").find(".catalog-card").each((function(t){t+1>e?($(this).hide(),$(this).addClass("hide-card")):($(this).show(),$(this).removeClass("hide-card")),t+1<e?$(document).find(".catalog-more_link").hide():$(document).find(".catalog-more_link").show()}))})))}if(h&&document.addEventListener("click",(function(e){var t=e.target,a=t==h||h.contains(t),i=$(".description-modal")[0].classList.contains("show");!a&&i&&$(".description-modal")[0].classList.remove("show")})),p("#sorting_price"),$("#sorting_price").on("change",(function(){p(this)})),f(),resetSortingTable(),$(document).on("click",".reset_filter",(function(e){e.preventDefault(),$(this).trigger("reset"),f()})),$(".table").on("change",'[name="table_sort"]',(function(){var e,t,a,i,n,s=$(this).val(),r=$(".table").find('[name="table_sort"]');if($(this).closest(".table").hasClass("offers-inf__table")){var l,o=$(document).find('[name="sale_rent_table"]:checked').val();l=window.matchMedia("(min-width: 768px)").matches?$(document).find('.tabs-panel_two [name="object_table"]:checked').val():$(document).find('.tabs-panel__select [name="object_table_select"]:checked').val(),n=!1;for(var c=0;c<mainTableArr.length;c++){var d=mainTableArr[c];d.STATUS_TEXT===o&&d.SPACE_TEXT===l&&(e=d.NAME.sort((function(e,t){return e.value>t.value?1:e.value<t.value?-1:0})),t=d.FLOOR.sort((function(e,t){return e.value-t.value})),a=d.QUADRATURE.sort((function(e,t){return e.value-t.value})),i=d.PRICE.sort((function(e,t){return e.value-t.value})))}}else $(this).closest(".table").hasClass("catalog__table")&&(e=commonObjList.NAME.sort((function(e,t){return e.value>t.value?1:e.value<t.value?-1:0})),t=commonObjList.FLOOR.sort((function(e,t){return e.value-t.value})),a=commonObjList.QUADRATURE.sort((function(e,t){return e.value-t.value})),i=commonObjList.PRICE.sort((function(e,t){return e.value-t.value})),n=!0);switch($(this).hasClass("onSorting")?($(this).removeClass("onSorting"),$(this).prop("checked",!1)):(r.prop("checked",!1),r.removeClass("onSorting"),$(this).addClass("onSorting"),$(this).prop("checked",!0)),s){case"name":u("name",e,".table-body__item_building",!0,n);break;case"floor":u("floor",t,".table-body__item_floor",!1,n);break;case"quadrature":u("quadrature",a,".table-body__item_square",!1,n);break;case"price":u("price",i,".table-body__item_price",!1,n)}})),tabsSwitch(".offers",".offers-slider",!1,!1),tabsSwitch(".offers-inf",".offers-inf__table",!0,!1),tablePagination(13,14,$(".catalog__table"),!1,!1),_(),$(".table").each((function(){$(this).find(".table-body__row").each((function(e){this.style.order=e}))})),$(".hero-form").on("submit",(function(e){e.preventDefault();var t,a=new FormData(this),i=$(this).attr("action"),n=[],s=_createForOfIteratorHelper(a.entries());try{for(s.s();!(t=s.n()).done;){var r=t.value;n.push(_defineProperty({},r[0],r[1])),localStorage.setItem(r[0],r[1])}}catch(e){s.e(e)}finally{s.f()}localStorage.setItem("formData",n),window.location.pathname=i})),$("section").is(".catalog"))for(var g in localStorage){var b,y,v=localStorage[g];switch(g){case"place":case"space":y=(b=$(document).find('input[name="'+g+'"][value="'+v+'"]')).closest(".select-content__wrapper").find(".select-content__radio").text(),b[0].checked=!0,b.closest(".select").find(".select-title").text(y),b.trigger("change"),localStorage.removeItem(g);break;case"min_square":(b=$(document).find('input[name="'+g+'"]')).val(v),localStorage.removeItem(g);break;case"rent_sale":(b=$(document).find('input[name="'+g+'"][value="'+v+'"]'))[0].checked=!0,b.trigger("change"),localStorage.removeItem(g)}}if(r=[{center:[55.74814411,37.54025512],geometryCord:[[[55.7481899,37.5395865],[55.74848036,37.5405521],[55.74811991,37.54089885],[55.74782944,37.53993325]]],image:"../img/bars/empire.png",alt:"Империя",title:"Деловой комплекс Империя",item1:60,item2:239,item3:203191},{center:[55.74846764,37.54187356],geometryCord:[[[55.74816507,37.54176628],[55.74849185,37.54138004],[55.74869759,37.54204522],[55.74838292,37.54238855],[55.74816507,37.54176628]]],image:"../img/bars/evolution.png",alt:"Эволюция",title:"Башня Эволюция",item1:55,item2:246,item3:154e3},{center:[55.7472105,37.5385391],geometryCord:[[[55.74746549,37.5386966],[55.74712578,37.5389468],[55.74695633,37.5383889],[55.74729522,37.53817432]]],image:"../img/bars/moscow.png",alt:"Башня Город столиц Москва",title:"Башня Город столиц Москва",item1:55,item2:246,item3:154e3},{center:[55.74773093,37.53883951],geometryCord:[[[55.74782775,37.53834598],[55.7480214,37.53898972],[55.74768252,37.5393545],[55.74746549,37.5386966]]],image:"../img/bars/saint-petersburg.png",alt:"Башня Город столиц Санкт-Петербург",title:"Башня Город столиц Санкт-Петербург",item1:55,item2:246,item3:154e3},{center:[55.74700409,37.53748507],geometryCord:[[[55.7470525,37.53758699],[55.74648365,37.53715784],[55.74636262,37.53727586],[55.7464776,37.53750116],[55.74654719,37.53757627],[55.7466531,37.537646],[55.74674084,37.53767819],[55.74690121,37.53768892],[55.7470525,37.53758699]]],image:"../img/bars/block-a.png",alt:"Башня на Набережной Блок А",title:"Башня на Набережной Блок А",item1:60,item2:239,item3:203191},{center:[55.74645409,37.53638425],geometryCord:[[[55.74628464,37.53689923],[55.74668405,37.53616967],[55.74667195,37.53597655],[55.74656302,37.53601947],[55.7464904,37.53608384],[55.74640567,37.53623404],[55.74633305,37.53636279],[55.74628464,37.53655591],[55.74628464,37.53689923]]],image:"../img/bars/block-b.png",alt:"Башня на Набережной Блок B",title:"Башня на Набережной Блок B",item1:60,item2:239,item3:203191},{center:[55.74708346,37.53662028],geometryCord:[[[55.74691401,37.53608384],[55.7468777,37.53634133],[55.74688981,37.53657737],[55.74692612,37.5368134],[55.74697453,37.53698506],[55.74705925,37.53717818],[55.74708346,37.53709235],[55.74710766,37.53709235],[55.74714397,37.53704944],[55.74719239,37.53715672],[55.7472529,37.53698506],[55.74726501,37.53677049],[55.74727711,37.53657737],[55.7472408,37.53642716],[55.74719239,37.53621259],[55.74713187,37.53608384],[55.74704715,37.53595509],[55.74702294,37.5361053],[55.74696243,37.5361053],[55.74691401,37.53608384]]],image:"../img/bars/block-с.png",alt:"Башня на Набережной Блок С",title:"Башня на Набережной Блок С",item1:60,item2:239,item3:203191},{center:[55.74764064,37.53499147],geometryCord:[[[55.74797953,37.53404734],[55.74808801,37.53499021],[55.74810011,37.53574123],[55.74785805,37.53584852],[55.74691446,37.53471252],[55.74718073,37.5343692],[55.74727755,37.53460524],[55.74765275,37.53419754],[55.74797953,37.53404734]]],image:"../img/bars/empire.png",alt:"IQ-квартал",title:"IQ-квартал",item1:60,item2:239,item3:203191},{center:[55.74976605,37.53383838],geometryCord:[[[55.74912704,37.53399165],[55.7494538,37.53364833],[55.74988949,37.53349813],[55.75031307,37.53472121],[55.74999658,37.5350557],[55.74970554,37.53413879],[55.74933036,37.53452502],[55.74912704,37.53399165]]],image:"../img/bars/empire.png",alt:"МФК Око",title:"МФК Око",item1:60,item2:239,item3:203191},{center:[55.75051489,37.53644193],geometryCord:[[[55.75044228,37.53515447],[55.75049068,37.53530467],[55.75044228,37.53534759],[55.75066011,37.53607715],[55.75069642,37.53603423],[55.75078113,37.53627027],[55.75075693,37.53631318],[55.75101107,37.53712857],[55.75067222,37.5374719],[55.75053909,37.53749335],[55.75047858,37.53732169],[55.75034546,37.53745044],[55.75030915,37.53745044],[55.75028495,37.53740752],[55.75026074,37.53736461],[55.75024864,37.53732169],[55.75023654,37.5372144],[55.75023654,37.53715003],[55.75026074,37.53708566],[55.75036966,37.53695691],[55.75034546,37.53687108],[55.75026074,37.53695691],[55.75017603,37.53672088],[55.75026074,37.53661359],[55.75024864,37.53657067],[55.75018813,37.53663505],[55.75012762,37.53667796],[55.75005501,37.5366565],[55.7500308,37.53661359],[55.7500066,37.53654922],[55.7500066,37.53646339],[55.7500187,37.53639901],[55.75005501,37.53633464],[55.75013972,37.53624881],[55.74995819,37.53564799],[55.75044228,37.53515447]]],image:"../img/bars/empire.png",alt:"Oko II",title:"Oko II",item1:60,item2:239,item3:203191},{center:[55.74938341,37.53691645],geometryCord:[[[55.74968597,37.53678771],[55.74959416,37.53663091],[55.74946103,37.53654507],[55.7493279,37.53652362],[55.74914637,37.53658799],[55.74914637,37.53686694],[55.74917057,37.53710297],[55.74923108,37.53738192],[55.74926686,37.5375446],[55.74938841,37.5374463],[55.74954704,37.53727059],[55.74965269,37.5370189],[55.74968597,37.53678771]]],image:"../img/bars/empire.png",alt:"Западный",title:"Западный",item1:60,item2:239,item3:203191},{center:[55.74980699,37.53779622],geometryCord:[[[55.7498675,37.53708811],[55.749812,37.53716735],[55.74959416,37.53751067],[55.74948523,37.53783254],[55.74943182,37.53805371],[55.74953766,37.53814905],[55.7497076,37.53821826],[55.74990123,37.5381968],[55.75007825,37.53813294],[55.75008277,37.53789639],[55.75005404,37.5375965],[55.74997385,37.53729558],[55.7498675,37.53708811]]],image:"../img/bars/empire.png",alt:"Восточный",title:"Восточный",item1:60,item2:239,item3:203191},{center:[55.74884868,37.53480704],geometryCord:[[[55.74851549,37.53394745],[55.74866072,37.53394745],[55.74864862,37.53381871],[55.74866072,37.53375433],[55.74867283,37.53373288],[55.74869703,37.53371142],[55.74873334,37.53373288],[55.74876965,37.53375433],[55.74891488,37.53401183],[55.74895119,37.53409766],[55.74936909,37.53553661],[55.74932068,37.53568681],[55.74922386,37.53551515],[55.74917545,37.53570827],[55.74912704,37.53581556],[55.74906652,37.53585847],[55.74900601,37.53590139],[55.74863083,37.53547223],[55.74863083,37.53527911],[55.7484856,37.53527911],[55.7484856,37.53461393],[55.7484977,37.53461393],[55.74851549,37.53394745]]],image:"../img/bars/empire.png",alt:"Евразия",title:"Евразия",item1:60,item2:239,item3:203191},{center:[55.75050279,37.53948892],geometryCord:[[[55.75063591,37.53895248],[55.75070852,37.53897393],[55.75082954,37.5392958],[55.75080534,37.53946746],[55.75047858,37.53983224],[55.75036966,37.53983224],[55.75021233,37.53998244],[55.75009131,37.53987516],[55.75010341,37.53961766],[55.75024864,37.539446],[55.75027285,37.5392958],[55.75063591,37.53895248]]],image:"../img/bars/empire.png",alt:"Башня Меркурий",title:"Башня Меркурий",item1:60,item2:239,item3:203191},{center:[55.75132606,37.53265369],geometryCord:[[[55.75031377,37.53318981],[55.7517418,37.53298514],[55.7517418,37.53309243],[55.75215326,37.53302805],[55.75216536,37.53289931],[55.75229848,37.53289931],[55.75232268,37.53287785],[55.7524558,37.53287785],[55.75248,37.53285639],[55.75262522,37.53283493],[55.75263732,37.53247015],[55.75202014,37.53208391],[55.75099149,37.53221266],[55.75099149,37.53249161],[55.75088257,37.53249161],[55.75088257,37.53251307],[55.75076155,37.53266327],[55.75058002,37.53266327],[55.75058002,37.53268473],[55.7504832,37.53268473],[55.750459,37.53272764],[55.75030167,37.53272764],[55.75031377,37.53318981]]],image:"../img/bars/empire.png",alt:"Башня Север",title:"Башня Север",item1:60,item2:239,item3:203191},{center:[55.75113243,37.53370512],geometryCord:[[[55.75085408,37.53342617],[55.75136236,37.53336179],[55.75139867,37.53404844],[55.75086618,37.53411281],[55.75085408,37.53394115],[55.75082988,37.53394115],[55.75081777,37.5336622],[55.75084198,37.53364074],[55.75085408,37.53342617]]],image:"../img/bars/empire.png",alt:"Nova 1",title:"Nova 1",item1:60,item2:239,item3:203191},{center:[55.75156809,37.5353359],geometryCord:[[[55.75142287,37.53499258],[55.75170121,37.53497112],[55.75171331,37.53567922],[55.7516528,37.53567922],[55.7516407,37.53572214],[55.75154389,37.53574359],[55.75153179,37.53570068],[55.75144707,37.53570068],[55.75142287,37.53499258]]],image:"../img/bars/empire.png",alt:"Nova 2",title:"Nova 2",item1:60,item2:239,item3:203191}],$("#map").length>0){ymaps.ready((function(){l=new ymaps.Map("map",{center:[55.74866991,37.5387893],zoom:16,controls:["zoomControl"]},{searchControlProvider:"yandex#search"});for(var e=0;e<r.length;e++){if(o='<li class="bars-content__item-inf__item"><span>'+r[e].item1+'</span><span>этажей</span></li><li class="bars-content__item-inf__item"><span>'+r[e].item2+'</span><span>метров</span></li><li class="bars-content__item-inf__item"><span>'+r[e].item3+"</span><span>общая площадь, м²</span></li>",c=ymaps.templateLayoutFactory.createClass('<div class="bars-content__item-wrapper"><a class="bars-content__item-close" href="#">&times;</a><div class="bars-content__item-triangle"></div><div class="bars-content__item" style="background-image:url('+r[e].image+');">$[[options.contentLayout observeSize minWidth=235 maxWidth=235 maxHeight=350]]</div></div>',{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".bars-content__item-wrapper",this.getParentElement()),this.applyElementOffset(),this._$element.find(".bars-content__item-close").on("click",$.proxy(this.onCloseClick,this))},clear:function(){this._$element.find(".bars-content__item-close").off("click"),this.constructor.superclass.clear.call(this)},onSublayoutSizeChange:function(){c.superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){this._$element.css({left:-this._$element[0].offsetWidth/2-this._$element[0].offsetWidth/2,top:-(this._$element[0].offsetHeight+this._$element.find(".bars-content__item-triangle")[0].offsetHeight)})},onCloseClick:function(e){e.preventDefault(),this.events.fire("userclose")},getShape:function(){if(!this._isElement(this._$element))return c.superclass.getShape.call(this);var e=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left,e.top],[e.left+this._$element[0].offsetWidth,e.top+this._$element[0].offsetHeight+this._$element.find(".bars-content__item-triangle")[0].offsetHeight]]))},_isElement:function(e){return e&&e[0]&&e.find(".bars-content__item-triangle")[0]}}),d=ymaps.templateLayoutFactory.createClass('<div class="bars-content__item-title">$[properties.balloonHeader]</div><ul class="bars-content__item-inf">$[properties.balloonContent]</ul>'),m=new ymaps.GeoObject({geometry:{type:"Polygon",coordinates:r[e].geometryCord,fillRule:"nonZero"},properties:{balloonHeader:r[e].title,balloonContent:o,hintContent:r[e].alt}},{fillColor:"#909090",strokeColor:"#696969",strokeWidth:3,strokeStyle:"solid",balloonShadow:!1,balloonLayout:c,balloonContentLayout:d,balloonPanelMaxMapArea:0}),window.matchMedia("(max-width: 767.98px)").matches){var t=r[e].center;m.events.add("click",(function(){l.setCenter(t,16)}))}l.geoObjects.add(m)}}))}}));