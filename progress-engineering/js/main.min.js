function fadeOut(e,t){var l=1,s=1/(t/10),n=setInterval((function(){l-=s,e.style.opacity=l,l<=0&&(clearInterval(n),e.style.display="none")}),10)}function banText(e){var t=parseFloat(e.key);isNaN(t)&&e.preventDefault()}function resizeInput(e){let t,l=e.parentElement,s=e.value,n=document.createElement("div");n.classList.add("size-div"),n.textContent=s,l.append(n),t=n.clientWidth,e.style.width=t+"px",n.remove()}function preventDefaultFunc(e){e.preventDefault()}function formatPrice(e){return(e=parseFloat(e)).toLocaleString("en-US",{useGrouping:!0}).replace(/,/g," ")}function getCoords(e){var t=e.getBoundingClientRect(),l=document.body,s=document.documentElement,n=window.pageYOffset||s.scrollTop||l.scrollTop,o=window.pageXOffset||s.scrollLeft||l.scrollLeft,c=s.clientTop||l.clientTop||0,a=s.clientLeft||l.clientLeft||0;return{top:t.top+n-c,left:t.left+o-a}}function getParams(e=window.location){let t={};return new URL(e).searchParams.forEach((function(e,l){void 0!==t[l]?(Array.isArray(t[l])||(t[l]=[t[l]]),t[l].push(e)):t[l]=e})),t}function getCurrentTime(){const e=new Date;let t=e.getHours(),l=e.getMinutes();return t=t<10?"0"+t:t,l=l<10?"0"+l:l,t+":"+l}function isObjectEmpty(e){return"{}"===JSON.stringify(e)}function clickOutside(e,t,l){var s=document.querySelector(e),n=document.querySelector(t);document.addEventListener("click",e=>{let t=e.target,o=t==s||s.contains(t),c=t==n,a=s.classList.contains(l);o||c||!a||s.classList.toggle(l)})}class CustomSelect{constructor(e,t){this.select=t.selectElement,this.show=t.show||6,this.icon=t.icon||null,this.isMobile=document.documentElement.clientWidth<575.98,"init"===e?this.initCustomSelect(this.select):"DIV"===this.select.nodeName&&(this.options=this.select.querySelectorAll('input[type="radio"]'),this.defaultSelect=this.createDefaultSelect(),this.replaceCustomWithDefault(),"reinit"===e&&this.initCustomSelect(this.defaultSelect))}initCustomSelect(e){this.options=e.querySelectorAll("option"),this.select=e;const t=this.createCustomSelect(e);this.replaceSelectWithCustom(t),this.customSelectEvents(t)}createCustomSelect(e){let t=Array.from(e.classList),l=document.createElement("div");t.forEach(e=>l.classList.add(e)),l.classList.add("custom-select"),e.required&&l.classList.add("required");let s=this.createCustomSelectTitle(l),n=this.createCustomSelectContent(l);return l.append(s),l.append(n),l}createCustomSelectTitle(e){let t=Array.from(this.options).find(e=>e.selected),l=document.createElement("div"),s=document.createElement("div"),n=document.createElement("div");return null===this.icon&&(this.icon='<svg width="12" height="9" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.64637 6.0565L0.353478 1.7636C0.158216 1.56834 0.158216 1.25176 0.353478 1.0565L1.05686 0.353112C1.25193 0.158042 1.56814 0.157822 1.76348 0.352619L4.99992 3.58005L8.23637 0.352619C8.43171 0.157822 8.74792 0.158042 8.94299 0.353112L9.64637 1.0565C9.84163 1.25176 9.84163 1.56834 9.64637 1.7636L5.35348 6.0565C5.15822 6.25176 4.84163 6.25176 4.64637 6.0565Z" fill="currentColor"/></svg>'),l.classList.add("select-title"),s.classList.add("select-title__text"),n.classList.add("select-title__icon"),s.textContent=t.textContent,n.innerHTML=this.icon,l.append(s),l.append(n),""!==t.value&&e.classList.add("active"),l}createCustomSelectContent(){let e=document.createElement("div");e.classList.add("select-content");let t=this.createCustomSelectOptions();if(e.append(t),this.isMobile){let t=document.createElement("div");t.classList.add("select-content_overlay"),e.append(t)}return e}createCustomSelectOptions(){let e=document.createElement("div");return e.classList.add("select-content_wrap"),this.options.forEach((t,l)=>{const s=document.createElement("label"),n=document.createElement("input"),o=document.createElement("span");s.classList.add("select-content__wrapper"),o.classList.add("select-content__radio");[...t.attributes].map(e=>{"selected"===e.name?(n.setAttribute("checked","checked"),n.checked=!0):n.setAttribute(e.name,e.value),"disabled"===e.name&&s.classList.add("disabled")}),n.setAttribute("type","radio"),n.setAttribute("name",this.select.name),o.textContent=t.textContent.trim(),s.append(n),s.append(o),e.appendChild(s)}),e}replaceSelectWithCustom(e){this.select.replaceWith(e)}customSelectEvents(e){let t=e.querySelector(".select-title"),l=e.querySelector(".select-title__text"),s=e.querySelector(".select-content"),n=s.querySelectorAll(".select-content__wrapper"),o=n.length,c=0;n.forEach((s,n)=>{n<=this.show&&(c+=s.offsetHeight),s.addEventListener("click",()=>{let n=s.querySelector(".select-content__radio").textContent,o=s.querySelector("input"),c=o.value;o.checked=!0,l.textContent=n,e.classList.remove("open"),this.isMobile&&(document.body.classList.remove("no-scroll"),document.querySelector("main").classList.remove("layer-up")),e.classList.contains("active")||e.classList.add("active"),""===c?e.classList.remove("active"):t.classList.remove("validate")})}),o<=this.show&&s.classList.add("no-scroll"),s.style.maxHeight=c+32+"px",t.addEventListener("click",()=>{document.querySelectorAll(".select").forEach(t=>{t!==e&&(t.classList.remove("open"),this.isMobile&&(document.body.classList.remove("no-scroll"),document.querySelector("main").classList.remove("layer-up")))}),e.classList.toggle("open"),this.isMobile&&(document.body.classList.toggle("no-scroll"),document.querySelector("main").classList.toggle("layer-up"))}),this.clickOutsideSelect(e,t)}clickOutsideSelect(e,t){document.addEventListener("click",l=>{let s=l.target,n=s==e||e.contains(s),o=s==t,c=s.classList.contains("select-content_overlay"),a=e.classList.contains("open");n||o||!a||(e.classList.toggle("open"),this.isMobile&&document.body.classList.toggle("no-scroll")),c&&a&&(e.classList.remove("open"),this.isMobile&&(document.body.classList.remove("no-scroll"),document.querySelector("main").classList.remove("layer-up")))})}replaceCustomWithDefault(){this.select.replaceWith(this.defaultSelect)}createDefaultSelect(){const e=this.select;let t=Array.from(e.classList),l=document.createElement("select"),s=this.options[0].name;return t.forEach(e=>l.classList.add(e)),l.classList.remove("active","custom-select","required"),e.classList.contains("required")&&(l.required=!0),l.name=s,this.options.forEach(e=>{l.append(this.createDefaultOptions(e))}),l}createDefaultOptions(e){const t=[...e.attributes];let l=document.createElement("option"),s=e.parentElement.querySelector(".select-content__radio").textContent.trim();return t.forEach(e=>{let t=e.name;"type"!==t&&"name"!==t&&"checked"!==t&&l.setAttribute(t,e.value),"checked"===t&&(l.setAttribute("selected","selected"),l.selected=!0)}),Array.from(e.classList).forEach(e=>l.classList.add(e)),l.textContent=s,l}}function formNameValid(e,t=!1){let l=e.value.length,s=!0;return t&&(0===l?(s=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):0!==l&&l<2?(s=!1,e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",e.classList.add("validate")):(s=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:s,value:e.value}}function formPhoneValid(e,t=!1){var l=e.value.length;let s=!0;return t&&(0===l?(s=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):l<10&&l>0?(s=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block"):(s=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:s,value:e.value}}function formEmailValid(e,t=!1){let l;var s=e.value.split("@"),n=e.value.length;return t?0===n?(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block",l=!1):n>0&&1===(e.value.match(/.+?\@.+\.+/g)||[]).length?s[0].length<3?(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error-length").style.display="block",l=!1):(e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none",l=!0):(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",l=!1):n>0?n>0&&1===(e.value.match(/.+?\@.+\.+/g)||[]).length?s[0].length<3?(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error-length").style.display="block",l=!1):(e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none",l=!0):(e.classList.add("validate-border"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error-email").style.display="block",l=!1):l=!0,{el:e,elCheck:l,value:e.value}}function formIndexValid(e,t=!1){let l=!0,s=e.value.length;return t&&(0===s?(l=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):0!==s&&s<6?(l=!1,e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",e.classList.add("validate")):(l=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:l,value:e.value}}function formAddressValid(e,t=!1){let l=!0,s=e.value.length;return t&&(0===s?(l=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):(l=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:l,value:e.value}}function formCustomSelectValid(e,t=!1){let l=!0,s="";if(t){let t=e.closest(".select-wrapper")||!1,n=e.querySelector(".select-title"),o=e.querySelectorAll('input[type="radio"]'),c=t?t.querySelectorAll(".msg"):{};for(let e=0;e<o.length;e++){let a=o[e];if(a.checked&&""!==a.value){s=a.value,l=!0,n.classList.remove("validate"),c.length>0&&t.querySelectorAll(".msg").forEach(e=>e.style.display="none");break}l=!1,n.classList.add("validate"),c.length>0&&(t.querySelector(".msg-error").style.display="block")}}return{el:e,elCheck:l,value:s}}function formTextareaValid(e,t=!1,l=100){let s=!0;if(t){let t=e.value.length;0===t?(s=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):0!==t&&t<l?(s=!1,e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",e.classList.add("validate")):(s=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")}return{el:e,elCheck:s,value:e.value}}function checkboxValid(e,t=!1){let l=!0;return e.classList.remove("not-checked"),t&&(e.checked?(l=!0,e.classList.remove("not-checked")):(l=!1,e.classList.add("not-checked"))),{el:e,elCheck:l,value:e.value}}function formPromocodeValid(e,t=!1){let l=!0,s=e.value.length;return t&&(s>0?null!==e.getAttribute("readonly")?(l=!0,e.parentElement.querySelector(".msg").style.display="none",e.classList.remove("validate")):(l=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error-not-apply").style.display="block"):(l=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:l,value:e.value}}class Accordion{constructor(e,t){this.el=document.querySelector(e),this.multiple=t,this.bindEvents()}bindEvents(){this.el.querySelectorAll(".heading").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement;this.multiple||this.closeOthers(t),t.classList.contains("open")?this.close(t):this.open(t)})})}open(e){e.classList.add("open")}close(e){e.classList.remove("open")}closeOthers(e){this.el.querySelectorAll(".accordion-item").forEach(t=>{t!==e&&this.close(t)})}}document.addEventListener("DOMContentLoaded",(function(){document.querySelector("body");const e=document.getElementById("header"),t=document.querySelector("footer"),l=document.querySelector("main"),s=document.documentElement.clientWidth;!function(e){let t;s>1201?t=e.desktop:s>=1029.98&&s<1200.98?t=e.laptop:s>=807.98&&s<1029.98?t=e.tablet:s<807.98&&(t=e.mobile)}({desktop:1160,laptop:990,tablet:740,mobile:s-20});const n=e.offsetHeight,o=t.offsetHeight;function c(e){e.preventDefault();const t=this.getAttribute("data-href")||this.getAttribute("href"),l=document.querySelector(t);if(l){const e=l.offsetTop;window.scrollTo({top:e,behavior:"smooth"})}}l.style.minHeight=`calc(100vh - (${n}px + ${o}px))`;document.querySelectorAll('a[href^="#"],*[data-href^="#"]').forEach(e=>{e.addEventListener("click",c)});class a{constructor(e){this.form=e.classList.contains("not-valid")?null:e,this.validationFunctions={name:formNameValid,phone:formPhoneValid,email:formEmailValid,index:formIndexValid,address:formAddressValid,agreement:checkboxValid,textarea:formTextareaValid,promo:formPromocodeValid,selects:formCustomSelectValid},this.excludeFields=["selects","inputs","submit","promoDelete","promoApply","textarea","agreement","subscribing"],this.checkboxFields=["subscribing","agreement"],null!==this.form&&(this.fields=this.formFields(e),this.init(this.form))}init(e){if(e.reset(),!e.classList.contains("on-validate")){const t=this.fields,l=t.submit;this.validateFields(t,this.fieldAddHandle),l.onclick=null,l.onclick=l=>this.submitHandler(l,e,t),e.classList.add("on-validate")}}submitHandler(e,t,l){e.preventDefault(),this.formSubmit(t,l)}formFields(e){const t={},l=(l,s)=>{const n=e.querySelector(s);n&&(t[l]=n)};return l("name",".input-name"),l("phone",".input-phone"),l("email",".input-email"),l("index",".input-index"),l("address",".input-address"),l("promo",".input-promocode"),l("agreement",'input[type="checkbox"][name="agreement"]'),l("subscribing",'input[type="checkbox"][name="permission_mailing"]'),l("promoApply",".promocode__btn_apply"),l("promoDelete",".promocode__btn_delete"),l("textarea","textarea"),l("submit",'input[type="submit"]'),l("submit",'button[type="submit"]'),t.inputs=e.querySelectorAll('input:not([type="submit"]):not([type="hidden"]):not([type="radio"]):not([type="checkbox"]), textarea'),t.selects=e.querySelectorAll(".custom-select"),t}validateFields(e,t){const l=this.excludeFields,s=this.checkboxFields,n={};for(const o in e){const c=e[o];let a=void 0;const i={listener:"blur",field:c,validate:this.validationFunctions[o]||new Function,isMessage:!1,messageLength:100,isSelect:!1};l.includes(o)||(a=t(i)),s.includes(o)&&(i.listener="change",a=t(i)),"textarea"===o&&(i.isMessage=!0,a=t(i)),"selects"===o&&c.length>0&&(i.isSelect=!0,a=t(i)),void 0!==a&&Object.assign(n,a)}return n}fieldAddHandle(e){const{listener:t,field:l,validate:s,isMessage:n=!1,messageLength:o=100,isSelect:c=!1}=e;c?l.forEach(e=>{const t=e.classList.contains("custom-select"),l=t?e.classList.contains("required"):e.reqiured;if(t){e.querySelectorAll(".select-content__wrapper").forEach(t=>{t.addEventListener("click",t=>{s(e,l)})})}}):l.addEventListener(t,e=>{const t=l.classList.contains("required");n?s(l,t,o):s(l,t)})}fieldCheckValidation(e){const{listener:t,field:l,validate:s,isMessage:n=!1,messageLength:o=100,isSelect:c=!1}=e,a={};if(c)l.forEach(e=>{const t=e.classList.contains("custom-select"),l=t?e.classList.contains("required"):e.reqiured;if(t){const t=e.querySelector("input").name;a[t]=s(e,l)}});else{const e=l.classList.contains("required"),t=l.name;a[t]=n?s(l,e,o):s(l,e)}return a}formSubmit(e,t){const l=this.validateFields(t,this.fieldCheckValidation),s=this.validationErrors(l),n=this.getFieldsValues(l);"{}"===JSON.stringify(s)&&new FormSender(this.form,n)}validationErrors(e){const t={};for(let l in e){const s=e[l];"elCheck"in s&&!s.elCheck&&(t[l]=s.elCheck)}return t}getFieldsValues(e){const t={};for(let l in e){const s=e[l];"value"in s&&(t[l]=s.value)}return t}}document.addEventListener("click",(function(e){const t=e.target,l=t.classList.contains("modal"),s=t.classList.contains("modal__close")||t.closest(".modal__close"),n=t.classList.contains("btn")?t:t.closest(".btn");let o;if(l&&(o=t),s&&(o=t.closest(".modal")),o&&(fadeOut(o,215),document.body.classList.remove("no-scroll")),n){const e=n.dataset.modal;if(e){const t=document.getElementById(e),l=t.querySelector("form"),s=t.querySelectorAll(".select");t.style.display="block",t.style.opacity=1,document.body.classList.add("no-scroll"),s.length>0&&s.forEach(e=>{new CustomSelect("reinit",{selectElement:e})}),l&&new a(l)}}}));const i=document.querySelector(".header__hamburger-wrap"),r=document.querySelector(".hamburger__close");function d(){const e=document.querySelector(".menu");if(e){let l=e.querySelector(".container"),s=e.querySelector(".nav-list"),n=e.querySelector(".menu__icon-scroll"),o=l.clientWidth,c=s.scrollWidth;function t(e,t){e<=c?n.classList.remove(t):n.classList.add(t)}t(o-e.querySelector(".menu__cart").clientWidth-30,"hide"),t(o,"hide-on-scroll")}}i&&i.addEventListener("click",e=>{e.preventDefault();const t=document.querySelector(".hamburger-container");document.body.classList.add("no-scroll"),t.classList.remove("slideOutLeft"),t.classList.add("slideInLeft")}),r&&r.addEventListener("click",e=>{e.preventDefault();const t=document.querySelector(".hamburger-container");document.body.classList.remove("no-scroll"),t.classList.remove("slideInLeft"),t.classList.add("slideOutLeft")}),d();const u=()=>{const e=document.querySelector(".menu"),t=e.offsetHeight,l=document.querySelector("header").offsetHeight;let s;if(e.classList.contains("homepage_menu")){s=l+document.querySelector(".hero").offsetHeight}else s=l+t;return s};function m(e){let t=document.querySelector(".menu"),l=document.querySelector("#header").offsetHeight,s=document.getElementById("back_to_top");if(t){let e=t.offsetHeight;l+=e,t.classList.contains("homepage_menu")&&(l=e+u()),t.classList.contains("is_not_first_scroll")||d()}e.pageYOffset>l?document.body.classList.add("nav_scroll"):document.body.classList.remove("nav_scroll"),e.pageYOffset>e.innerHeight?s.style.display="flex":s.style.display="none"}m(window),window.addEventListener("scroll",(function(){m(this)}));const p=document.querySelectorAll(".catalog-link");if(p.length>0&&p.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:u(),behavior:"smooth"})})}),document.querySelectorAll(".mini-cart").forEach(e=>{e.addEventListener("click",t=>{if(t.preventDefault(),e.classList.contains("empty_mini-cart")){const e=document.getElementById("modal_empty_cart");e.style.display="block",e.style.opacity=1}else window.location.href=e.href})}),document.body.classList.contains("home")){const e=document.querySelectorAll(".nav-list li");e.length>0&&e.forEach((function(t){t.addEventListener("click",(function(l){l.preventDefault();let s=this.querySelector("a"),n=s.getAttribute("href"),o=s.textContent,c={action:"get_products_by_cat",slug:n.split("=")[1]};$.ajax({url:americano.ajaxurl,type:"post",data:c,beforeSend:function(e){document.body.classList.add("loader")},success:function(e){document.querySelector(".catalog__list").innerHTML=e,document.querySelector(".catalog-section__title").textContent=o},complete:function(){if(document.body.classList.remove("loader"),window.scrollTo({top:u(),behavior:"smooth"}),e.forEach(e=>e.classList.remove("active")),t.classList.add("active"),history.replaceState(null,null,n),s.closest(".hamburger")){const e=document.querySelector(".hamburger-container");document.body.classList.remove("no-scroll"),e.classList.remove("slideInLeft"),e.classList.add("slideOutLeft")}}})}))}))}new Accordion(".accordion",!1);const y=document.querySelectorAll(".input-phone"),h=document.querySelectorAll(".input-email");y.length>0&&y.forEach((function(e){IMask(e,{mask:"+7 (000) 000-00-00"})})),h.length>0&&h.forEach((function(e){IMask(e,{mask:/^\S*@?\S*$/})}));document.getElementById("map");const f=document.querySelectorAll(".footer__policy-link, .footer__agreement-link");function v(e){e.preventDefault();let t=this.getAttribute("href");window.location.href=t.replace("#","")}f.length>0&&f.forEach(e=>{e.addEventListener("click",v)});const g=document.querySelectorAll("select.select");g.length>0&&g.forEach(e=>{new CustomSelect("init",{selectElement:e})});const L=document.querySelectorAll(".geography__tabs .geography_tab");if(L){const e=document.querySelectorAll(".geography__tabs-content .geography__tab-content");L.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();const l=t.target,s="geography_tab"===l.classList?l:l.closest(".geography_tab"),n=s.dataset.tab;e&&e.forEach(e=>{const t=e.dataset.tab;e.style.display=t===n?"block":"none"}),L.forEach(e=>{e.classList.remove("active")}),s.classList.add("active")})})}const S=document.querySelector(".main-about__slider"),b=document.querySelector(".projects__slider");function E(e){let t=e.parentElement.querySelector(".slider-nav");$(e).slick({slidesToShow:1,slidesToScroll:1,speed:700,draggable:!0,appendDots:$(t),appendArrows:$(t),arrows:!1,infinite:!1,swipe:!0,dots:!0,dotsClass:"slider-dots"})}S&&S.children.length>1&&E(S),b&&b.children.length>1&&E(b)}));
//# sourceMappingURL=main.min.js.map
