function fadeOut(e,t){var s=1,l=1/(t/10),o=setInterval((function(){s-=l,e.style.opacity=s,s<=0&&(clearInterval(o),e.style.display="none")}),10)}function fadeIn(e,t){var s=0,l=1/(t/10);e.style.display="block",e.style.opacity=s;var o=setInterval((function(){s+=l,e.style.opacity=s,s>=1&&(clearInterval(o),e.style.opacity=1)}),10)}function banText(e){var t=parseFloat(e.key);isNaN(t)&&e.preventDefault()}function formatNumber(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function removeSpaces(e){return e.replace(/\s+/g,"")}function resizeInput(e){let t,s=e.parentElement,l=e.value,o=document.createElement("div");o.classList.add("size-div"),o.textContent=l,s.append(o),t=o.clientWidth,e.style.width=t+"px",o.remove()}function preventDefaultFunc(e){e.preventDefault()}function formatPrice(e){return(e=parseFloat(e)).toLocaleString("en-US",{useGrouping:!0}).replace(/,/g," ")}function getCoords(e){var t=e.getBoundingClientRect(),s=document.body,l=document.documentElement,o=window.pageYOffset||l.scrollTop||s.scrollTop,r=window.pageXOffset||l.scrollLeft||s.scrollLeft,n=l.clientTop||s.clientTop||0,a=l.clientLeft||s.clientLeft||0;return{top:t.top+o-n,left:t.left+r-a}}function getParams(e=window.location){let t={};return new URL(e).searchParams.forEach((function(e,s){void 0!==t[s]?(Array.isArray(t[s])||(t[s]=[t[s]]),t[s].push(e)):t[s]=e})),t}function getCurrentTime(){const e=new Date;let t=e.getHours(),s=e.getMinutes();return t=t<10?"0"+t:t,s=s<10?"0"+s:s,t+":"+s}function isObjectEmpty(e){return"{}"===JSON.stringify(e)}function getStyle(e){return window.getComputedStyle?getComputedStyle(e,null):e.currentStyle}const wordBreaking=(e,t)=>{const s=e.querySelector(t),l=s.textContent.trim().split(" ");2===l.length&&(s.innerHTML=`${l[0]}<br>${l[1]}`)};function increaseDecreaseNumber(e,t,s,l,o){const r=performance.now(),n=s-t;requestAnimationFrame((function a(i){const c=i-r,d=Math.min(c/l,1),u=Math.floor(t+n*d);e.textContent=o?formatNumber(u)+" "+o:formatNumber(u),d<1?requestAnimationFrame(a):e.textContent=o?formatNumber(s)+" "+o:formatNumber(s)}))}function clickOutside({el:e,btn:t,className:s,removeBtnClassName:l=!1}){var o=document.querySelector(e),r=document.querySelector(t);document.addEventListener("click",e=>{let n=e.target,a=n==o||o.contains(n),i=n===r||n.closest(t)===r,c=o.classList.contains(s);a||i||!c||(o.classList.toggle(s),l&&r.classList.toggle(s))})}class CustomSelect{constructor(e,t){this.select=t.selectElement,this.show=t.show||6,this.icon=t.icon||null,this.isMobile=document.documentElement.clientWidth<575.98,"init"===e?this.initCustomSelect(this.select):"DIV"===this.select.nodeName&&(this.options=this.select.querySelectorAll('input[type="radio"]'),this.defaultSelect=this.createDefaultSelect(),this.replaceCustomWithDefault(),"reinit"===e&&this.initCustomSelect(this.defaultSelect))}initCustomSelect(e){this.options=e.querySelectorAll("option"),this.select=e;const t=this.createCustomSelect(e);this.replaceSelectWithCustom(t),this.customSelectEvents(t),t.classList.add("initialized")}createCustomSelect(e){let t=Array.from(e.classList),s=document.createElement("div");t.forEach(e=>s.classList.add(e)),s.classList.add("custom-select"),e.required&&s.classList.add("required");let l=this.createCustomSelectTitle(s),o=this.createCustomSelectContent(s);return s.append(l),s.append(o),s}createCustomSelectTitle(e){let t=Array.from(this.options).find(e=>e.selected),s=document.createElement("div"),l=document.createElement("div"),o=document.createElement("div");return null===this.icon&&(this.icon='<svg width="12" height="9" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.64637 6.0565L0.353478 1.7636C0.158216 1.56834 0.158216 1.25176 0.353478 1.0565L1.05686 0.353112C1.25193 0.158042 1.56814 0.157822 1.76348 0.352619L4.99992 3.58005L8.23637 0.352619C8.43171 0.157822 8.74792 0.158042 8.94299 0.353112L9.64637 1.0565C9.84163 1.25176 9.84163 1.56834 9.64637 1.7636L5.35348 6.0565C5.15822 6.25176 4.84163 6.25176 4.64637 6.0565Z" fill="currentColor"/></svg>'),s.classList.add("select-title"),l.classList.add("select-title__text"),o.classList.add("select-title__icon"),l.textContent=t.textContent,o.innerHTML=this.icon,s.append(l),s.append(o),""!==t.value&&e.classList.add("active"),s}createCustomSelectContent(){let e=document.createElement("div");e.classList.add("select-content");let t=this.createCustomSelectOptions();if(e.append(t),this.isMobile){let t=document.createElement("div");t.classList.add("select-content_overlay"),e.append(t)}return e}createCustomSelectOptions(){let e=document.createElement("div");return e.classList.add("select-content_wrap"),this.options.forEach((t,s)=>{const l=document.createElement("label"),o=document.createElement("input"),r=document.createElement("span");l.classList.add("select-content__wrapper"),r.classList.add("select-content__radio");[...t.attributes].map(e=>{"selected"===e.name?(o.setAttribute("checked","checked"),o.checked=!0):o.setAttribute(e.name,e.value),"disabled"===e.name&&l.classList.add("disabled")}),o.setAttribute("type","radio"),o.setAttribute("name",this.select.name),r.innerHTML=t.innerHTML,l.append(o),l.append(r),e.appendChild(l)}),e}replaceSelectWithCustom(e){this.select.replaceWith(e)}customSelectEvents(e){let t=e.querySelector(".select-title"),s=e.querySelector(".select-title__text"),l=e.querySelector(".select-content"),o=l.querySelectorAll(".select-content__wrapper"),r=o.length,n=0;o.forEach((l,o)=>{o<=this.show&&(n+=l.offsetHeight),l.addEventListener("click",()=>{let o=l.querySelector(".select-content__radio").textContent,r=l.querySelector("input"),n=r.value;r.checked=!0,s.textContent=o,e.classList.remove("open"),this.isMobile&&(document.body.classList.remove("no-scroll"),document.querySelector("main").classList.remove("layer-up")),e.classList.contains("active")||e.classList.add("active"),""===n?e.classList.remove("active"):t.classList.remove("validate")})}),r<=this.show&&l.classList.add("no-scroll"),l.style.maxHeight=n+32+"px",t.addEventListener("click",()=>{document.querySelectorAll(".select").forEach(t=>{t!==e&&(t.classList.remove("open"),this.isMobile&&(document.body.classList.remove("no-scroll"),document.querySelector("main").classList.remove("layer-up")))}),e.classList.toggle("open"),this.isMobile&&(document.body.classList.toggle("no-scroll"),document.querySelector("main").classList.toggle("layer-up"))}),this.clickOutsideSelect(e,t)}clickOutsideSelect(e,t){document.addEventListener("click",s=>{let l=s.target,o=l==e||e.contains(l),r=l==t,n=l.classList.contains("select-content_overlay"),a=e.classList.contains("open");o||r||!a||(e.classList.toggle("open"),this.isMobile&&document.body.classList.toggle("no-scroll")),n&&a&&(e.classList.remove("open"),this.isMobile&&(document.body.classList.remove("no-scroll"),document.querySelector("main").classList.remove("layer-up")))})}replaceCustomWithDefault(){this.select.replaceWith(this.defaultSelect)}createDefaultSelect(){const e=this.select;let t=Array.from(e.classList),s=document.createElement("select"),l=this.options[0].name;return t.forEach(e=>s.classList.add(e)),s.classList.remove("active","custom-select","required"),e.classList.contains("required")&&(s.required=!0),s.name=l,this.options.forEach(e=>{s.append(this.createDefaultOptions(e))}),s}createDefaultOptions(e){const t=[...e.attributes];let s=document.createElement("option"),l=e.parentElement.querySelector(".select-content__radio").textContent.trim();return t.forEach(e=>{let t=e.name;"type"!==t&&"name"!==t&&"checked"!==t&&s.setAttribute(t,e.value),"checked"===t&&(s.setAttribute("selected","selected"),s.selected=!0)}),Array.from(e.classList).forEach(e=>s.classList.add(e)),s.textContent=l,s}}function formNameValid(e,t=!1){let s=e.value.length,l=!0;return t&&(0===s?(l=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):0!==s&&s<2?(l=!1,e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",e.classList.add("validate")):(l=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:l,value:e.value}}function formPhoneValid(e,t=!1){var s=e.value.length;let l=!0;return t&&(0===s?(l=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):s<10&&s>0?(l=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block"):(l=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:l,value:e.value}}function formEmailValid(e,t=!1){let s;var l=e.value.split("@"),o=e.value.length;return t?0===o?(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block",s=!1):o>0&&1===(e.value.match(/.+?\@.+\.+/g)||[]).length?l[0].length<3?(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error-length").style.display="block",s=!1):(e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none",s=!0):(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",s=!1):o>0?o>0&&1===(e.value.match(/.+?\@.+\.+/g)||[]).length?l[0].length<3?(e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error-length").style.display="block",s=!1):(e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none",s=!0):(e.classList.add("validate-border"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error-email").style.display="block",s=!1):s=!0,{el:e,elCheck:s,value:e.value}}function formIndexValid(e,t=!1){let s=!0,l=e.value.length;return t&&(0===l?(s=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):0!==l&&l<6?(s=!1,e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",e.classList.add("validate")):(s=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:s,value:e.value}}function formAddressValid(e,t=!1){let s=!0,l=e.value.length;return t&&(0===l?(s=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):(s=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")),{el:e,elCheck:s,value:e.value}}function formCustomSelectValid(e,t=!1){let s=!0,l="";if(t){let t=e.closest(".select-wrapper")||!1,o=e.querySelector(".select-title"),r=e.querySelectorAll('input[type="radio"]'),n=t?t.querySelectorAll(".msg"):{};for(let e=0;e<r.length;e++){let a=r[e];if(a.checked&&""!==a.value){l=a.value,s=!0,o.classList.remove("validate"),n.length>0&&t.querySelectorAll(".msg").forEach(e=>e.style.display="none");break}s=!1,o.classList.add("validate"),n.length>0&&(t.querySelector(".msg-error").style.display="block")}}return{el:e,elCheck:s,value:l}}function formTextareaValid(e,t=!1,s=100){let l=!0;if(t){let t=e.value.length;0===t?(l=!1,e.classList.add("validate"),e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-error").style.display="block"):0!==t&&t<s?(l=!1,e.parentElement.querySelector(".msg").style.display="none",e.parentElement.querySelector(".msg-empty").style.display="block",e.classList.add("validate")):(l=!0,e.classList.remove("validate"),e.parentElement.querySelector(".msg").style.display="none")}return{el:e,elCheck:l,value:e.value}}function checkboxValid(e,t=!1){let s=!0;return e.classList.remove("not-checked"),t&&(e.checked?(s=!0,e.classList.remove("not-checked")):(s=!1,e.classList.add("not-checked"))),{el:e,elCheck:s,value:e.value}}function formPromocodeValid(e,t=!1){let s;const l=e.value.length,o=e.parentElement,r=()=>{o.querySelector(".msg-error").style.display="none",o.querySelector(".msg-error-not-apply").style.display="none",o.querySelector(".msg-empty").style.display="none"};return t?l>2?(s=!0,r(),e.classList.remove("validate")):(s=!1,e.classList.add("validate"),r(),o.querySelector(".msg-empty").style.display="block"):(s=!0,e.classList.remove("validate"),r()),{el:e,elCheck:s,value:e.value}}class Accordion{constructor(e,t){this.el="string"==typeof e?document.querySelector(e):e,this.multiple=t,this.el&&this.bindEvents()}bindEvents(){this.el.querySelectorAll(".heading").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement;this.multiple||this.closeOthers(t),t.classList.contains("open")?this.close(t):this.open(t)})})}open(e){e.classList.add("open")}close(e){e.classList.remove("open")}closeOthers(e){this.el.querySelectorAll(".accordion-item").forEach(t=>{t!==e&&this.close(t)})}}class HandlerForm{constructor({form:e,autoSubmit:t=!1,formReset:s=!0}){this.form=e.classList.contains("not-valid")?null:e,this.autoSubmit=t,this.reset=s,this.validationFunctions={name:formNameValid,phone:formPhoneValid,email:formEmailValid,index:formIndexValid,address:formAddressValid,agreement:checkboxValid,textarea:formTextareaValid,promo:formPromocodeValid,selects:formCustomSelectValid},this.excludeFields=["selects","inputs","submit","promoDelete","promoApply","textarea","agreement","subscribing"],this.checkboxFields=["subscribing","agreement","soglasie"],null!==this.form&&(this.fields=this.formFields(e),this.init(this.form))}init(e){if(this.reset&&e.reset(),!e.classList.contains("on-validate")){const t=this.fields,s=t.submit;this.validateFields(t,this.fieldAddHandle),this.autoSubmit?this.formAutoSubmit(e,t):(s.onclick=null,s.onclick=s=>this.submitHandler(s,e,t),e.classList.add("on-validate"))}}submitHandler(e,t,s){e.preventDefault(),this.formSubmit(t,s)}formFields(e){const t={},s=(s,l)=>{const o=e.querySelector(l);o&&(t[s]=o)};return s("name",".input-name"),s("phone",".input-phone"),s("email",".input-email"),s("index",".input-index"),s("address",".input-address"),s("promo",".input-promocode"),s("agreement",'input[type="checkbox"][name="agreement"]'),s("subscribing",'input[type="checkbox"][name="permission_mailing"]'),s("promoApply",".promocode__btn_apply"),s("promoDelete",".promocode__btn_delete"),s("textarea","textarea"),s("submit",'input[type="submit"]'),s("submit",'button[type="submit"]'),t.inputs=e.querySelectorAll('input:not([type="submit"]):not([type="hidden"]):not([type="radio"]):not([type="checkbox"]), textarea'),t.selects=e.querySelectorAll(".custom-select"),t}validateFields(e,t){const s=this.excludeFields,l=this.checkboxFields,o={};for(const r in e){const n=e[r];this.getFieldsProps({key:r,validationResult:o,excludeFields:s,checkboxFields:l,handler:t,field:n})}return o}getFieldsProps(e){const{key:t,validationResult:s,excludeFields:l,checkboxFields:o,handler:r,field:n}=e;let a=void 0;const i={listener:"blur",field:n,validate:this.validationFunctions[t]||new Function,isMessage:!1,messageLength:100,isSelect:!1};l.includes(t)||(a=r(i)),o.includes(t)&&(i.listener="change",a=r(i)),"textarea"===t&&(i.isMessage=!0,a=r(i)),"promo"===t&&(i.listener="keyup",a=r(i)),"selects"===t&&n.length>0&&(i.isSelect=!0,a=r(i)),void 0!==a&&Object.assign(s,a)}fieldAddHandle(e){const{listener:t,field:s,validate:l,isMessage:o=!1,messageLength:r=100,isSelect:n=!1}=e;n?s.forEach(e=>{const t=e.classList.contains("custom-select"),s=t?e.classList.contains("required"):e.required;if(t){e.querySelectorAll(".select-content__wrapper").forEach(t=>{t.addEventListener("click",t=>{l(e,s)})})}}):s.addEventListener(t,e=>{const t=s.classList.contains("required");o?l(s,t,r):l(s,t)})}fieldCheckValidation(e){const{listener:t,field:s,validate:l,isMessage:o=!1,messageLength:r=100,isSelect:n=!1}=e,a={};if(n)s.forEach(e=>{const t=e.classList.contains("custom-select"),s=t?e.classList.contains("required"):e.required;if(t){const t=e.querySelector("input").name;a[t]=l(e,s)}});else{const e=s.classList.contains("required"),t=s.name;a[t]=o?l(s,e,r):l(s,e)}return a}formSubmit(e,t){const s=this.validateFields(t,this.fieldCheckValidation),l=this.validationErrors(s),o=this.getFieldsValues(s);if("{}"!==JSON.stringify(l))return;const r=new FormData(e);r.append("isAutoSubmit",this.autoSubmit),new FormSender(this.form,o,r)}formAutoSubmit(e,t){const s=e.querySelectorAll(".required, [required]"),l=this.excludeFields,o=this.checkboxFields,r={},n=this.fieldCheckValidation,a=a=>{const i=a.target;this.getFieldsProps({key:i.name,validationResult:r,excludeFields:l,checkboxFields:o,handler:n,field:i}),Object.keys(r).length===s.length&&this.formSubmit(e,t)};s.forEach(e=>{e.addEventListener("change",a),e.addEventListener("blur",a)})}validationErrors(e){const t={};for(let s in e){const l=e[s];"elCheck"in l&&!l.elCheck&&(t[s]=l.elCheck)}return t}getFieldsValues(e){const t={};for(let s in e){const l=e[s];"value"in l&&(t[s]=l.value)}return t}}class FormSender{constructor(e,t,s){this.form=e,this.data=t,this.formData=s||{},this.props={data:this.data,form:this.form},this.init(this.form)}init(e){let t;if(this.props.url="undefined"!=typeof astrooma&&dr_martynenko.ajaxurl?dr_martynenko.ajaxurl:"https://jsonplaceholder.typicode.com/posts",JSON.parse(this.formData.get("isAutoSubmit")))return t=this.getFormProps(this.props,this.formData),t.action="crm_send",Object.assign(t,this.autoSubmit()),void this.sendFormPost(t);if(e.id)e.id,t=this.getFormProps(this.props,this.formData),t.action="#",Object.assign(t,this.defaultForm()),this.sendFormPost(t);else{switch(e.classList.contains("feedback__form")?"feedback_form":"default_form"){case"feedback_form":props.action="base_request",props.showDescription=!0,props.requestType="callback",Object.assign(props,this.baseRequest()),this.sendFormPost(props);break;case"default_form":default:props.action="#",Object.assign(props,this.defaultForm()),this.sendFormPost(props)}}}autoSubmit(){return{beforeSend:e=>{e.querySelector(".form-submit").classList.add("load")},success:(e,t,s=!0)=>{const l=e.response[0].id,o=document.createElement("input");o.type="hidden",o.value=l,o.name="deal_id",t.append(o),new HandlerForm({form:t,formReset:!1})},onError:(e,t)=>this.ajaxErrors(e,t),onComplete:e=>{e.querySelector(".form-submit").classList.remove("load")}}}defaultForm(){return{beforeSend:()=>document.body.classList.add("loader"),success:(e,t)=>{if(200===e.code){const e=t.closest(".modal"),s=document.getElementById("modal_lead_thx");fadeOut(e,0),fadeIn(s,215)}},onError:(e,t)=>this.ajaxErrors(e,t),onComplete:()=>document.body.classList.remove("loader")}}sendFormPost(e){const{action:t="#",url:s,data:l={},beforeSend:o=new Function,success:r=new Function,onError:n=new Function,onComplete:a=new Function,showDescription:i,form:c=""}=e,d={action:t,...l},u=new FormData;for(const e in d)u.append(e,d[e]);const m={method:"POST",body:u};o(c),fetch(s,m).then(e=>{if(!e.ok)throw new Error("Нет соединения. Проверьте сеть.");return 204===e.status?{}:e.json()}).then(e=>{r(e,c,i)}).catch(e=>{n(e)}).finally(()=>{a(c)})}getFormProps(e,t){const s={};for(let[e,l]of t.entries()){switch(e){case"phone":e="user_phone";break;case"name":e="user_name";break;case"email":e="user_email";break;case"product":e="post_id";break;case"isAutoSubmit":e="is_auto_submit";break;case"package_key":e="key";break;case"request_type":e="product";break;case"review_photo":e="user_photo";break;case"promo":if(l.length>0){const t=l.split(" ");e="promocode_text",l=t[1]}}(l instanceof File||l&&l.length>0)&&(s[e]=l)}return e.data=s,e}ajaxErrors(e,t=""){console.log(e),0===e.status?console.error("Нет соединения. Проверьте сеть."):404===e.status?console.error("Запрошенная страница не найдена (404)."):500===e.status?console.error("Внутренняя ошибка сервера (500)."):"parsererror"===t?console.error("Не удалось выполнить запрошенный синтаксический анализ JSON. (parse failed)"):"timeout"===t?console.error("Превышен лимит времени на запрос."):"abort"===t?console.error("Запрос прерван."):(console.error("Неопределенная ошибка. "+e.responseText),console.error("Убрать с обработчика на бекенде все дебаги и повторить"))}}document.addEventListener("DOMContentLoaded",(function(){document.querySelector("body");const e=document.getElementById("header"),t=document.querySelector("footer"),s=document.querySelector("main"),l=document.documentElement.clientWidth;!function(e){let t;l>1201?t=e.desktop:l>=1029.98&&l<1200.98?t=e.laptop:l>=807.98&&l<1029.98?t=e.tablet:l<807.98&&(t=e.mobile)}({desktop:1160,laptop:990,tablet:740,mobile:l-20});const o=e.offsetHeight,r=t.offsetHeight;s.style.minHeight=`calc(100vh - (${o}px + ${r}px))`;const n=document.querySelector(".header__catalog-open"),a=document.querySelector(".header__catalog-menu");if(n&&n.addEventListener("click",e=>{a.classList.toggle("open"),n.classList.toggle("open")}),a){const e=document.querySelectorAll(".catalog-menu-list");if(e.length>0){const t=e=>{const t=e.classList.contains("menu-list__item")?e:e.closest(".menu-list__item"),s=t.closest(".catalog-menu-list"),l=t.dataset.category;return{submenuClass:s.classList.contains("submenu-1")?".catalog-menu-list.submenu.submenu-2":".catalog-menu-list.submenu.submenu-1",category:l}},s=({submenuClass:e,category:t,show:s,listItem:l})=>{document.querySelectorAll(e).forEach(e=>{e.dataset.category===t?e.classList.toggle("show",s):e.classList.remove("show")})},l=e=>{const t=e.querySelectorAll(".menu-list__item");t.length>0&&t.forEach(e=>e.classList.remove("hover"))};e.forEach(e=>{const o=e.querySelectorAll(".menu-list__item");o.length>0&&!e.classList.contains("submenu-2")&&o.forEach(o=>{o.addEventListener("mouseenter",r=>{const{submenuClass:n,category:a}=t(r.target);l(e),o.classList.add("hover"),s({submenuClass:n,category:a,show:!0,listItem:o})})})})}clickOutside({el:".header__catalog-menu",btn:".header__catalog-open",className:"open",removeBtnClassName:!0})}function i(e){e.preventDefault();const t=this.getAttribute("data-href")||this.getAttribute("href");if("#"===t)return void console.error("В ссылке используется заглушка");const s=document.querySelector(t);if(s){const e=s.offsetTop;window.scrollTo({top:e,behavior:"smooth"})}}document.querySelectorAll('a[href^="#"],*[data-href^="#"]').forEach(e=>{e.addEventListener("click",i)}),document.addEventListener("click",(function(e){const t=e.target,s=t.classList.contains("modal"),l=t.classList.contains("modal__close")||t.closest(".modal__close"),o=t.dataset.modal;let r;if(s&&(r=t),l&&(r=t.closest(".modal")),r&&(fadeOut(r,215),document.body.classList.remove("no-scroll")),o){const e=t.dataset.modal,s=!!parseInt(t.dataset.autoSubmit)||!1;if(e){const t=document.getElementById(e),l=t.querySelector("form"),o=t.querySelectorAll(".custom-select");fadeIn(t,215),document.body.classList.add("no-scroll"),o.length>0&&o.forEach(e=>{new CustomSelect("reinit",{selectElement:e})}),l&&new HandlerForm({form:l,autoSubmit:s})}}}));const c=e.querySelector(".header__hamburger"),d=e.querySelector(".header__close"),u=e.querySelector(".hamburger-wrap"),m=()=>{c?(c.classList.remove("open"),u.classList.remove("slideInRight"),u.classList.add("slideOutRight"),document.body.classList.remove("no-scroll"),setTimeout(()=>{u.classList.add("menu-hidden")},1e3)):console.error("Элемент hamburger отсутствует!")};c&&c.addEventListener("click",e=>{e.preventDefault(),c.classList.contains("open")?m():(c.classList.add("open"),c.classList.remove("close"),document.body.classList.add("no-scroll"),u.classList.remove("slideOutRight"),u.classList.add("slideInRight"),u.classList.remove("menu-hidden"))}),d&&d.addEventListener("click",e=>{e.preventDefault(),m()}),document.addEventListener("click",(function(e){const t=e.target,s=t.classList.contains("header__hamburger")||t.closest(".header__hamburger");if(!s)return void console.error("Элемент hamburger отсутствует!");const l=t.classList.contains("header__close");if(!l)return void console.error("Элемент hamburger отсутствует!");const o=t.classList.contains("header__hamburger")||t.closest(".header__hamburger");if(!o)return void console.error("Элемент hamburger отсутствует!");const r=u.classList.contains("slideInRight");o||(s||l||r)&&m()}));const p=document.querySelectorAll(".accordion");p.length>0&&p.forEach(e=>{new Accordion(e,!1)});const h=document.querySelectorAll(".input-phone"),y=document.querySelectorAll(".input-email");h.length>0&&h.forEach((function(e){IMask(e,{mask:"+7 (000) 000-00-00"})})),y.length>0&&y.forEach((function(e){IMask(e,{mask:/^\S*@?\S*$/})}));const f=document.querySelectorAll(".geography__tabs .geography_tab");if(f){const e=document.querySelectorAll(".geography__tabs-content .geography__tab-content");f.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();const s=t.target,l="geography_tab"===s.classList?s:s.closest(".geography_tab"),o=l.dataset.tab;e&&e.forEach(e=>{const t=e.dataset.tab;e.style.display=t===o?"block":"none"}),f.forEach(e=>{e.classList.remove("active")}),l.classList.add("active")})})}const g=document.querySelectorAll(".footer__links");function v(e){e.preventDefault();let t=this.getAttribute("href");window.location.href=t.replace("#","")}g.length>0&&g.forEach(e=>{e.addEventListener("click",v)});const b=document.querySelectorAll(".custom-select");b.length>0&&b.forEach(e=>{new CustomSelect("init",{selectElement:e})});const S=document.getElementById("feedback_form_on_page");function L({sliderWrapElement:e,sliderClassName:t,slideClassName:s,navButtons:l=!0,showBullets:o=!0}){if(!e)return;const r=e.closest("section")?e.closest("section"):e,n=e.querySelector(t);if(!n)return;const a=n.querySelectorAll(s);if(a.length<=0)return;const i=l?r.querySelector(".btn_next"):null,c=l?r.querySelector(".btn_prev"):null,d=o?r.querySelector(".slider-bullets"):null;if(n&&(!l||i&&c)&&(!o||d))return e.classList.add("swiper"),n.classList.add("swiper-wrapper"),a.forEach(e=>e.classList.add("swiper-slide")),{nextButton:i,prevButton:c,bullets:d};console.error("Не найдены необходимые элементы для Swiper в контейнере:",e)}S&&new HandlerForm({form:S,autoSubmit:!0});const E=e=>{let t=0;e.slides.forEach(e=>{t=Math.max(t,e.offsetHeight)}),e.slides.forEach(e=>{e.style.height=t+"px"})};const q=document.querySelector(".main-hero__slider-wrap");q&&function(e){const t=L({sliderWrapElement:e,sliderClassName:".main-hero__slider",slideClassName:".main-hero__slider-item"});if(!t)return void console.error("Ошибка инициализации слайдера: не удалось найти все необходимые элементы.");const{nextButton:s,prevButton:l,bullets:o}=t;new Swiper(e,{speed:300,slidesPerView:1,loop:!1,grabCursor:!1,pagination:{el:o,type:"bullets",clickable:!0},navigation:{nextEl:s,prevEl:l}})}(q);const _=document.querySelector(".essential__list-wrap");_&&function(e){if(!L({sliderWrapElement:e,sliderClassName:".essential__list",slideClassName:".list-item",navButtons:!1,showBullets:!1}))return void console.error("Ошибка инициализации слайдера: не удалось найти все необходимые элементы.");new Swiper(e,{slidesPerView:"auto",spaceBetween:52,freeMode:{enabled:!0,momentum:!0,momentumRatio:.5},grabCursor:!0})}(_);const k=document.querySelectorAll(".products-slider");k.length>0&&k.forEach(e=>{const t=e.querySelector(".products-wrap");t&&function(e){const t=L({sliderWrapElement:e,sliderClassName:".products-list",slideClassName:".product-item",showBullets:!1});if(!t)return void console.error("Ошибка инициализации слайдера: не удалось найти все необходимые элементы.");const{nextButton:s,prevButton:l}=t;new Swiper(e,{speed:300,slidesPerView:"auto",spaceBetween:40,loop:!1,navigation:{nextEl:s,prevEl:l},on:{init:function(){E(this)},resize:function(){E(this)}}})}(t)});const w=document.querySelectorAll(".reviews__slider-wrap");w.length>0&&w.forEach(e=>{!function(e,t){if(!e)return;const s=e.querySelector(".reviews__slider");if(!s)return;const o=s.querySelectorAll(".review");if(o.length<0)return;const r=e.querySelector(".btn_next"),n=e.querySelector(".btn_prev"),a=e.querySelector(".slider-nav__pages");if(!(s&&r&&n&&a))return void console.error("Не найдены необходимые элементы для Swiper в контейнере:",e);if(e.classList.add("swiper"),s.classList.add("swiper-wrapper"),807.98<l){let e=[];o.forEach((l,o)=>{if(o%t==0){const t=document.createElement("div");t.classList.add("swiper-slide","slider-item"),s.appendChild(t),e.push(t)}e[e.length-1].appendChild(l)})}else o.forEach(e=>e.classList.add("swiper-slide"));new Swiper(e,{speed:300,slidesPerView:1,loop:!1,grabCursor:!0,pagination:{el:a,type:"fraction"},navigation:{nextEl:r,prevEl:n}}).on("slideChange",(function(){o.forEach(e=>{if(e.classList.contains("show")){const t=e.querySelector(".review__btn-more");e.classList.remove("show"),t.textContent="Развернуть отзыв"}})}))}(e,4);const t=e.querySelectorAll(".review");t.length>0&&t.forEach(e=>{const t=e.querySelector(".review__btn-more");t&&t.addEventListener("click",s=>{s.preventDefault(),e.classList.toggle("show"),t.textContent=e.classList.contains("show")?"Свернуть отзыв":"Развернуть отзыв"})})});const C=document.getElementById("custom_review_file");if(C){let e;const t=C.closest(".review-photo"),s=t.querySelector(".review-photo__output"),l=s.innerHTML;C.addEventListener("change",o=>{let r,n,a;const i=t.querySelector(".review-photo__output-image");a=document.querySelector(".review-photo__output-plug"),i&&(i.remove(),t.querySelector(".review-photo__output-remove").remove(),a.style.display="block"),e=o.target.files[0],r=document.createElement("span"),r.classList.add("review-photo__output-remove"),n=document.createElement("img"),n.classList.add("review-photo__output-image"),n.file=e,s.append(r),s.append(n),a.style.display="none";var c,d=new FileReader;d.onload=(c=n,function(e){c.src=e.target.result}),d.readAsDataURL(e),e?t.closest(".modal").querySelector(".checkbox-permission_publish input").classList.add("required"):t.closest(".modal").querySelector(".checkbox-permission_publish input").classList.remove("required"),r.addEventListener("click",(function(e){e.preventDefault(),s.innerHTML=l,C.value="",t.closest(".modal").querySelector(".checkbox-permission_publish input").classList.remove("required")}))})}const x=document.querySelectorAll('button[data-modal="modal_review"]');x.length>0&&x.forEach(e=>{e.addEventListener("click",e=>{const t=document.querySelector(".review-photo"),s=t.querySelector(".review-photo__output-image"),l=document.querySelector(".review-photo__output-plug");s&&(s.remove(),t.querySelector(".review-photo__output-remove").remove(),l.style.display="block")})}),requestAnimationFrame((function e(t){const s=document.querySelector(".running-line");if(!s)return;const l=s.firstElementChild,o=document.querySelectorAll(".running-line__wrap"),r=t/10%(l.offsetWidth/2);o.forEach((e,t)=>{e.style.transform=`translateX(-${r}px)`}),requestAnimationFrame(e)}))}));
//# sourceMappingURL=main.min.js.map
