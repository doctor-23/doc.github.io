var JSON = {
  "menu": [{
      "name": "Клиника",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Процедура",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Цены",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Организация",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Контакты",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
  ]
};

$(function() {

  function parseMenu(ul, menu) {
    for (var i = 0; i < menu.length; i++) {
      var li = $(ul).append('<li class="menu__item"><a href="' + menu[i].link + '">' + menu[i].name + '</a></li>');
      if (menu[i].sub != null) {
        var subul = $('<ul class="submenu"></ul>');
        $(li).append(subul);
        parseMenu($(subul), menu[i].sub);
      }
      if (menu[i].subject != null) {
        var subjectul = $('<ul class="submenu2"></ul>');
        $(li).append(subjectul);
        parseMenu($(subjectul), menu[i].subject);
      }
    }
  }

  var menu = $('#menu');
  parseMenu(menu, JSON.menu);


});
var JSON = {
  "menu": [{
      "name": "Клиника",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Процедура",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Цены",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Организация",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
    {
      "name": "Контакты",
      "link": "link",
      "sub": [{
          "name": "На этом месте выпадающее меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "А это второй пункт меню",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        },
        {
          "name": "И возможно третий",
          "link": "link",
          "sub": [{
              "name": "На этом месте выпадающее меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "А это второй пункт меню",
              "link": "link",
              "sub": null
            },
            {
              "name": "И возможно третий",
              "link": "link",
              "sub": null
            }
          ]
        }
      ]
    },
  ]
};

$(function() {

  function parseMenu(ul, menu) {
    for (var i = 0; i < menu.length; i++) {
      var li = $(ul).append('<li class="menu__item"><a href="' + menu[i].link + '">' + menu[i].name + '</a></li>');
      if (menu[i].sub != null) {
        var subul = $('<ul class="submenu"></ul>');
        $(li).append(subul);
        parseMenu($(subul), menu[i].sub);
      }
      if (menu[i].subject != null) {
        var subjectul = $('<ul class="submenu2"></ul>');
        $(li).append(subjectul);
        parseMenu($(subjectul), menu[i].subject);
      }
    }
  }

  var menu = $('#menu');
  parseMenu(menu, JSON.menu);


});
